exports.id=442,exports.ids=[442],exports.modules={68978:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,18309,23)),Promise.resolve().then(r.t.bind(r,25964,23)),Promise.resolve().then(r.t.bind(r,66283,23)),Promise.resolve().then(r.t.bind(r,85999,23)),Promise.resolve().then(r.t.bind(r,88586,23)),Promise.resolve().then(r.t.bind(r,23437,23))},18157:(e,t,r)=>{Promise.resolve().then(r.bind(r,59020)),Promise.resolve().then(r.bind(r,69981)),Promise.resolve().then(r.bind(r,68305)),Promise.resolve().then(r.bind(r,31899)),Promise.resolve().then(r.bind(r,94367)),Promise.resolve().then(r.bind(r,55771)),Promise.resolve().then(r.bind(r,24888)),Promise.resolve().then(r.bind(r,4168)),Promise.resolve().then(r.bind(r,9916)),Promise.resolve().then(r.bind(r,67943)),Promise.resolve().then(r.bind(r,69524)),Promise.resolve().then(r.bind(r,97393)),Promise.resolve().then(r.bind(r,94946)),Promise.resolve().then(r.bind(r,92912)),Promise.resolve().then(r.bind(r,93102)),Promise.resolve().then(r.bind(r,35650)),Promise.resolve().then(r.bind(r,42509)),Promise.resolve().then(r.bind(r,12977)),Promise.resolve().then(r.bind(r,33968)),Promise.resolve().then(r.bind(r,62516)),Promise.resolve().then(r.bind(r,36351)),Promise.resolve().then(r.bind(r,46495)),Promise.resolve().then(r.bind(r,20898)),Promise.resolve().then(r.bind(r,87473)),Promise.resolve().then(r.bind(r,50411)),Promise.resolve().then(r.bind(r,40658)),Promise.resolve().then(r.bind(r,80444)),Promise.resolve().then(r.bind(r,65706)),Promise.resolve().then(r.bind(r,59839)),Promise.resolve().then(r.bind(r,88909)),Promise.resolve().then(r.bind(r,52834)),Promise.resolve().then(r.bind(r,12259)),Promise.resolve().then(r.bind(r,52534)),Promise.resolve().then(r.bind(r,71619)),Promise.resolve().then(r.bind(r,45733)),Promise.resolve().then(r.bind(r,57921)),Promise.resolve().then(r.bind(r,43121))},59020:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,useAuthContext:()=>o});var s=r(3109),a=r(70371),i=r(94441);let n=(0,a.createContext)(null);function l({children:e}){let t=(0,i.a)();return s.jsx(n.Provider,{value:t,children:e})}function o(){let e=(0,a.useContext)(n);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},69981:(e,t,r)=>{"use strict";r.d(t,{CustomerCard:()=>a});var s=r(3109);r(70371);let a=({customer:e,onEdit:t,onSelect:r,isSelected:a=!1,selectable:i=!1})=>{let n=()=>{i&&r&&r(e)};return s.jsx("div",{className:`bg-surface border rounded-lg p-4 transition-colors ${i?"cursor-pointer":""} ${a?"border-primary bg-primary/10":"border-primary/20 hover:border-primary/40"}`,onClick:n,role:i?"button":void 0,tabIndex:i?0:void 0,onKeyDown:i?e=>"Enter"===e.key&&n():void 0,children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-text-primary font-medium truncate",children:e.name}),a&&s.jsx("span",{className:"text-primary text-sm",children:"✓"})]}),(0,s.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.phone]}),e.email&&(0,s.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1 mt-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("span",{className:"truncate",children:e.email})]}),e.address&&(0,s.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1 mt-1",children:[(0,s.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"truncate",children:e.address})]})]}),!i&&s.jsx("button",{onClick:r=>{r.stopPropagation(),t(e)},className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Edit ${e.name}`,children:s.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})}},68305:(e,t,r)=>{"use strict";r.d(t,{CustomerForm:()=>c});var s=r(3109),a=r(70371),i=r(52834),n=r(45733),l=r(43121),o=r(69656);let c=({customer:e,onSubmit:t,onCancel:r,isLoading:c=!1,compact:d=!1})=>{let[u,m]=(0,a.useState)({name:"",phone:"",email:"",address:""}),[x,p]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&m({name:e.name,phone:e.phone,email:e.email||"",address:e.address||""})},[e]);let h=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r})),x[t]&&p(e=>({...e,[t]:""}))},g=async e=>{e.preventDefault();let r=o._K.safeParse(u);if(!r.success){let e={};r.error.errors.forEach(t=>{t.path[0]&&(e[t.path[0]]=t.message)}),p(e);return}try{await t(u)}catch(e){p({_form:e instanceof Error?e.message:"Failed to save customer"})}};return(0,s.jsxs)("form",{onSubmit:g,className:d?"space-y-3":"space-y-4",children:[x._form&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:x._form}),s.jsx(n.Input,{label:"Customer Name",name:"name",value:u.name,onChange:h,error:x.name,placeholder:"e.g., John Smith",required:!0}),s.jsx(n.Input,{label:"Phone Number",name:"phone",type:"tel",value:u.phone,onChange:h,error:x.phone,placeholder:"e.g., +1 555-123-4567",required:!0}),s.jsx(n.Input,{label:"Email (optional)",name:"email",type:"email",value:u.email||"",onChange:h,error:x.email,placeholder:"e.g., john@example.com"}),!d&&s.jsx(l.TextArea,{label:"Address (optional)",name:"address",value:u.address||"",onChange:h,error:x.address,placeholder:"Enter customer address...",rows:2}),(0,s.jsxs)("div",{className:`flex gap-3 ${d?"pt-2":"pt-4"}`,children:[s.jsx(i.Button,{type:"button",variant:"secondary",onClick:r,disabled:c,children:"Cancel"}),s.jsx(i.Button,{type:"submit",variant:"primary",isLoading:c,className:"flex-1",children:e?"Update Customer":"Add Customer"})]})]})}},31899:(e,t,r)=>{"use strict";r.d(t,{CustomerList:()=>u});var s=r(3109),a=r(70371),i=r(69981),n=r(68305),l=r(97393),o=r(52834),c=r(45733),d=r(69524);let u=({customers:e,loading:t,error:r,onCreateCustomer:u,onUpdateCustomer:m,onRefetch:x,createLoading:p=!1,updateLoading:h=!1})=>{let[g,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(""),N=(0,a.useMemo)(()=>{if(!f.trim())return e;let t=f.toLowerCase().trim();return e.filter(e=>e.name.toLowerCase().includes(t)||e.phone.includes(f)||e.email&&e.email.toLowerCase().includes(t))},[e,f]),w=async e=>{await u(e)&&(b(!1),await x())},C=async e=>{y&&await m(y.id,e)&&(j(null),await x())};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(d.LoadingSpinner,{customMessage:"Summoning your customers..."})}):r?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-400 mb-4",children:"Something spooky happened! \uD83D\uDC7B"}),s.jsx("p",{className:"text-text-muted mb-4",children:r.message}),s.jsx(o.Button,{variant:"secondary",onClick:x,children:"Try Again"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Customers"}),s.jsx("p",{className:"text-text-muted text-sm",children:"Manage your customer contacts"})]}),s.jsx(o.Button,{variant:"primary",onClick:()=>b(!0),children:"+ Add Customer"})]}),e.length>0&&(0,s.jsxs)("div",{className:"relative",children:[s.jsx(c.Input,{placeholder:"Search customers by name, phone, or email...",value:f,onChange:e=>v(e.target.value),className:"pl-10"}),s.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:[s.jsx("p",{className:"text-text-muted mb-4",children:"No customers yet. Add your first customer to get started!"}),s.jsx(o.Button,{variant:"primary",onClick:()=>b(!0),children:"+ Add Your First Customer"})]}):0===N.length?s.jsx("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-text-muted",children:['No customers found matching "',f,'"']})}):s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:N.map(e=>s.jsx(i.CustomerCard,{customer:e,onEdit:j},e.id))}),f&&N.length>0&&(0,s.jsxs)("p",{className:"text-text-muted text-sm",children:["Found ",N.length," customer",1!==N.length?"s":""]}),s.jsx(l.Modal,{isOpen:g,onClose:()=>b(!1),title:"Add New Customer",size:"md",children:s.jsx(n.CustomerForm,{onSubmit:w,onCancel:()=>b(!1),isLoading:p})}),s.jsx(l.Modal,{isOpen:!!y,onClose:()=>j(null),title:"Edit Customer",size:"md",children:s.jsx(n.CustomerForm,{customer:y,onSubmit:C,onCancel:()=>j(null),isLoading:h})})]})}},94367:(e,t,r)=>{"use strict";r.d(t,{InlineCustomerForm:()=>o});var s=r(3109),a=r(70371),i=r(52834),n=r(45733),l=r(69656);let o=({onSubmit:e,onCancel:t,isLoading:r=!1})=>{let[o,c]=(0,a.useState)({name:"",phone:"",email:"",address:""}),[d,u]=(0,a.useState)({}),m=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r})),d[t]&&u(e=>({...e,[t]:""}))},x=async t=>{t.preventDefault();let r=l._K.safeParse(o);if(!r.success){let e={};r.error.errors.forEach(t=>{t.path[0]&&(e[t.path[0]]=t.message)}),u(e);return}try{await e(o)}catch(e){u({_form:e instanceof Error?e.message:"Failed to create customer"})}};return(0,s.jsxs)("form",{onSubmit:x,className:"p-4 bg-surface/50 border border-primary/20 rounded-lg space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-accent",children:"\uD83D\uDC64"}),s.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Quick Add Customer"})]}),d._form&&s.jsx("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-xs",children:d._form}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(n.Input,{label:"Name",name:"name",value:o.name,onChange:m,error:d.name,placeholder:"Customer name",required:!0}),s.jsx(n.Input,{label:"Phone",name:"phone",type:"tel",value:o.phone,onChange:m,error:d.phone,placeholder:"Phone number",required:!0})]}),s.jsx(n.Input,{label:"Email (optional)",name:"email",type:"email",value:o.email||"",onChange:m,error:d.email,placeholder:"Email address"}),(0,s.jsxs)("div",{className:"flex gap-2 pt-1",children:[s.jsx(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:t,disabled:r,children:"Cancel"}),s.jsx(i.Button,{type:"submit",variant:"primary",size:"sm",isLoading:r,children:"Add & Select"})]})]})}},55771:(e,t,r)=>{"use strict";r.d(t,{QuickActions:()=>i});var s=r(3109);r(70371);var a=r(52834);function i({onCreateQuote:e,onViewAllQuotes:t,onManageServices:r,onManageCustomers:i,onSettings:n,className:l=""}){return(0,s.jsxs)("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        ${l}
      `,children:[s.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Quick Actions ⚡"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)(a.Button,{variant:"primary",onClick:e,className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"✨"}),s.jsx("span",{children:"Create Quote"})]}),(0,s.jsxs)(a.Button,{variant:"secondary",onClick:t,className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"\uD83D\uDCCB"}),s.jsx("span",{children:"View All"})]}),(0,s.jsxs)(a.Button,{variant:"ghost",onClick:r,className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"\uD83D\uDEE0️"}),s.jsx("span",{children:"Services"})]}),(0,s.jsxs)(a.Button,{variant:"ghost",onClick:i,className:"flex items-center justify-center gap-2",children:[s.jsx("span",{children:"\uD83D\uDC65"}),s.jsx("span",{children:"Customers"})]}),(0,s.jsxs)(a.Button,{variant:"ghost",onClick:n,className:"flex items-center justify-center gap-2 col-span-2",children:[s.jsx("span",{children:"⚙️"}),s.jsx("span",{children:"Settings"})]})]})]})}},24888:(e,t,r)=>{"use strict";r.d(t,{RecentQuotes:()=>i});var s=r(3109);r(70371);var a=r(15807);function i({quotes:e,onViewQuote:t,className:r=""}){let i=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return 0===e.length?(0,s.jsxs)("div",{className:`
          bg-surface rounded-xl p-6 
          border border-halloween-purple/20
          ${r}
        `,children:[s.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Recent Quotes \uD83D\uDCDC"}),s.jsx("p",{className:"text-text-muted text-center py-8",children:"No quotes yet. Create your first spooky quote! \uD83C\uDF83"})]}):(0,s.jsxs)("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        ${r}
      `,children:[s.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Recent Quotes \uD83D\uDCDC"}),s.jsx("div",{className:"space-y-3",children:e.map(e=>(0,s.jsxs)("div",{onClick:()=>t?.(e.id),className:`
              flex items-center justify-between p-3 rounded-lg
              bg-background/50 hover:bg-background
              transition-colors duration-200
              ${t?"cursor-pointer":""}
            `,children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-text truncate",children:e.quoteNumber}),s.jsx(a.Ct,{variant:(0,a.Cd)(e.status),size:"sm",children:(0,a.Mx)(e.status)})]}),s.jsx("p",{className:"text-sm text-text-muted truncate",children:e.customer?.name||"Unknown Customer"})]}),(0,s.jsxs)("div",{className:"text-right ml-4",children:[s.jsx("p",{className:"font-semibold text-halloween-green",children:n(e.total)}),s.jsx("p",{className:"text-xs text-text-muted",children:i(e.createdAt)})]})]},e.id))})]})}},4168:(e,t,r)=>{"use strict";r.d(t,{StatsCard:()=>a});var s=r(3109);function a({title:e,value:t,icon:r,trend:a,className:i=""}){return s.jsx("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        hover:border-halloween-purple/40
        transition-all duration-300
        ${i}
      `,children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-text-muted text-sm font-medium mb-1",children:e}),s.jsx("p",{className:"text-2xl font-bold text-text",children:t}),a&&(0,s.jsxs)("p",{className:`text-sm mt-2 ${a.isPositive?"text-halloween-green":"text-red-400"}`,children:[a.isPositive?"↑":"↓"," ",Math.abs(a.value),"%"]})]}),r&&s.jsx("div",{className:"text-halloween-purple text-2xl",children:r})]})})}r(70371)},9916:(e,t,r)=>{"use strict";r.d(t,{Badge:()=>l,formatQuoteStatus:()=>c,getQuoteStatusVariant:()=>o});var s=r(3109);r(70371);let a={default:"bg-surface text-text-muted border-primary/20",primary:"bg-primary/20 text-primary border-primary/30",success:"bg-green-500/20 text-green-400 border-green-500/30",warning:"bg-orange-500/20 text-orange-400 border-orange-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",accepted:"bg-green-500/20 text-green-400 border-green-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30",expired:"bg-gray-500/20 text-gray-400 border-gray-500/30"},i={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"},n={pending:"⏳",accepted:"✓",rejected:"✗",expired:"⌛"},l=({variant:e="default",size:t="md",children:r,className:l=""})=>{let o=n[e];return(0,s.jsxs)("span",{className:`
        inline-flex items-center gap-1 font-medium rounded-full border
        ${a[e]}
        ${i[t]}
        ${l}
      `,children:[o&&s.jsx("span",{className:"flex-shrink-0",children:o}),r]})},o=e=>e,c=e=>e.charAt(0).toUpperCase()+e.slice(1)},67943:(e,t,r)=>{"use strict";r.d(t,{CobwebCorner:()=>l,HalloweenDecorations:()=>n,SpookyBadge:()=>c,SpookyDivider:()=>o});var s=r(3109),a=r(70371);let i=["\uD83C\uDF83","\uD83D\uDC7B","\uD83E\uDD87","\uD83D\uDD77️","\uD83D\uDD78️","\uD83D\uDC80","\uD83C\uDF19","⭐"],n=({variant:e="subtle",density:t="low",className:r=""})=>{let n={low:4,medium:8,high:12}[t],l=(0,a.useMemo)(()=>Array.from({length:n},(t,r)=>({emoji:i[r%i.length],top:`${80*Math.random()+10}%`,left:`${90*Math.random()+5}%`,size:"festive"===e?"text-4xl":"subtle"===e?"text-2xl":"text-xl",delay:`${5*Math.random()}s`,duration:`${6+4*Math.random()}s`,opacity:"subtle"===e?.1:"minimal"===e?.05:.2})),[n,e]);return"minimal"===e?null:s.jsx("div",{className:`fixed inset-0 pointer-events-none overflow-hidden z-0 ${r}`,"aria-hidden":"true",children:l.map((e,t)=>s.jsx("div",{className:`absolute ${e.size} select-none`,style:{top:e.top,left:e.left,opacity:e.opacity,animation:`float ${e.duration} ease-in-out infinite`,animationDelay:e.delay},children:e.emoji},t))})},l=({position:e="top-right",size:t="md",className:r=""})=>s.jsx("div",{className:`absolute ${{"top-left":"top-0 left-0 -rotate-90","top-right":"top-0 right-0","bottom-left":"bottom-0 left-0 rotate-180","bottom-right":"bottom-0 right-0 rotate-90"}[e]} ${{sm:"w-16 h-16 text-3xl",md:"w-24 h-24 text-4xl",lg:"w-32 h-32 text-5xl"}[t]} opacity-10 pointer-events-none ${r}`,"aria-hidden":"true",children:"\uD83D\uDD78️"}),o=({variant:e="simple",className:t=""})=>"simple"===e?(0,s.jsxs)("div",{className:`flex items-center gap-4 my-6 ${t}`,children:[s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-halloween-purple/30 to-transparent"}),s.jsx("span",{className:"text-halloween-purple/50",children:"\uD83C\uDF83"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-halloween-purple/30 to-transparent"})]}):(0,s.jsxs)("div",{className:`flex items-center gap-2 my-6 ${t}`,children:[s.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent to-halloween-purple/30"}),s.jsx("span",{className:"text-halloween-orange/50 text-sm",children:"\uD83D\uDC7B"}),s.jsx("span",{className:"text-halloween-purple/50 text-lg",children:"\uD83C\uDF83"}),s.jsx("span",{className:"text-halloween-green/50 text-sm",children:"\uD83E\uDD87"}),s.jsx("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent to-halloween-purple/30"})]}),c=({children:e,variant:t="purple",glow:r=!1,className:a=""})=>s.jsx("span",{className:`
        inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border
        ${{purple:"bg-halloween-purple/20 text-halloween-purple border-halloween-purple/30",green:"bg-halloween-green/20 text-halloween-green border-halloween-green/30",orange:"bg-halloween-orange/20 text-halloween-orange border-halloween-orange/30"}[t]} ${r?({purple:"shadow-[0_0_10px_rgba(139,92,246,0.3)]",green:"shadow-[0_0_10px_rgba(34,197,94,0.3)]",orange:"shadow-[0_0_10px_rgba(249,115,22,0.3)]"})[t]:""} ${a}
      `,children:e})},69524:(e,t,r)=>{"use strict";r.d(t,{LoadingOverlay:()=>c,LoadingSpinner:()=>o});var s=r(3109),a=r(70371);let i={sm:{spinner:"w-6 h-6",text:"text-sm",icon:"text-lg"},md:{spinner:"w-10 h-10",text:"text-base",icon:"text-2xl"},lg:{spinner:"w-16 h-16",text:"text-lg",icon:"text-4xl"}},n=["Summoning your quote... \uD83C\uDF83","Brewing the numbers... \uD83E\uDDD9‍♀️","Consulting the spirits... \uD83D\uDC7B","Casting calculation spells... ✨","Awakening the data... \uD83E\uDD87","Stirring the cauldron... \uD83D\uDD2E","Gathering moonlight... \uD83C\uDF19","Channeling dark magic... \uD83D\uDD6F️","Waking the undead servers... \uD83E\uDDDF","Reading the crystal ball... \uD83D\uDD2E","Summoning skeleton crew... \uD83D\uDC80","Mixing potions... \uD83E\uDDEA"],l=["\uD83C\uDF83","\uD83D\uDC7B","\uD83E\uDD87","\uD83D\uDD77️","\uD83D\uDC80","\uD83E\uDDD9‍♀️","\uD83D\uDD2E","\uD83C\uDF19"],o=({size:e="md",showMessage:t=!0,customMessage:r,variant:o="spooky"})=>{let[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(0),x=i[e];(0,a.useEffect)(()=>{if(!t||r)return;let e=setInterval(()=>{d(e=>(e+1)%n.length)},2e3);return()=>clearInterval(e)},[t,r]),(0,a.useEffect)(()=>{if("spooky"!==o)return;let e=setInterval(()=>{m(e=>(e+1)%l.length)},500);return()=>clearInterval(e)},[o]);let p=r||n[c];return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",role:"status","aria-live":"polite",children:[s.jsx("div",{className:`relative ${x.spinner}`,children:"spooky"===o?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${x.icon} animate-bounce`,children:l[u]}),s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-halloween-purple/30 animate-ping",style:{animationDuration:"1.5s"}}),s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent border-t-halloween-purple border-r-halloween-orange animate-spin",style:{animationDuration:"1s"}})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-primary animate-spin"}),s.jsx("div",{className:"absolute inset-2 rounded-full bg-primary/10 animate-pulse"})]})}),t&&s.jsx("p",{className:`${x.text} text-text-muted text-center transition-opacity duration-300`,style:{textShadow:"spooky"===o?"0 0 10px rgba(139, 92, 246, 0.3)":"none"},children:p}),s.jsx("span",{className:"sr-only",children:"Loading, please wait"})]})},c=({isVisible:e,...t})=>e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:s.jsx(o,{...t,size:"lg"})}):null},97393:(e,t,r)=>{"use strict";r.d(t,{Modal:()=>n});var s=r(3109),a=r(70371);let i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},n=({isOpen:e,onClose:t,title:r,children:n,size:l="md",showCloseButton:o=!0})=>{let c=(0,a.useCallback)(e=>{"Escape"===e.key&&t()},[t]);return((0,a.useEffect)(()=>(e&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}),[e,c]),e)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),(0,s.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,className:`
          relative w-full ${i[l]} mx-4
          bg-surface border border-primary/20 rounded-xl
          shadow-2xl shadow-primary/10
          transform transition-all duration-300
          animate-in fade-in zoom-in-95
        `,children:[(r||o)&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-primary/10",children:[r&&s.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-text-primary",children:r}),o&&s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center ml-auto","aria-label":"Close modal",children:s.jsx("svg",{className:"w-5 h-5 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4",children:n})]})]}):null}},94946:(e,t,r)=>{"use strict";r.d(t,{ToastContainer:()=>o,ToastItem:()=>d,ToastProvider:()=>l,useToast:()=>n});var s=r(3109),a=r(70371);let i=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e},l=({children:e})=>{let[t,r]=(0,a.useState)([]),n=(0,a.useCallback)((e,t,s=5e3)=>{let a=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;r(r=>[...r,{id:a,type:e,message:t,duration:s}])},[]),l=(0,a.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(i.Provider,{value:{toasts:t,addToast:n,removeToast:l},children:[e,s.jsx(o,{toasts:t,onRemove:l})]})},o=({toasts:e,onRemove:t})=>s.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm w-full","aria-live":"polite","aria-label":"Notifications",children:e.map(e=>s.jsx(d,{toast:e,onRemove:t},e.id))}),c={success:{bg:"bg-halloween-green/20 border-halloween-green/50",icon:"text-halloween-green",emoji:"\uD83C\uDF83",glow:"shadow-[0_0_15px_rgba(34,197,94,0.2)]"},error:{bg:"bg-red-500/20 border-red-500/50",icon:"text-red-500",emoji:"\uD83D\uDC7B",glow:"shadow-[0_0_15px_rgba(239,68,68,0.2)]"},warning:{bg:"bg-halloween-orange/20 border-halloween-orange/50",icon:"text-halloween-orange",emoji:"\uD83E\uDD87",glow:"shadow-[0_0_15px_rgba(249,115,22,0.2)]"},info:{bg:"bg-halloween-purple/20 border-halloween-purple/50",icon:"text-halloween-purple",emoji:"\uD83D\uDD2E",glow:"shadow-[0_0_15px_rgba(139,92,246,0.2)]"}},d=({toast:e,onRemove:t})=>{let[r,i]=(0,a.useState)(!1),n=c[e.type];return(0,a.useEffect)(()=>{if(e.duration&&e.duration>0){let r=setTimeout(()=>{i(!0),setTimeout(()=>t(e.id),300)},e.duration);return()=>clearTimeout(r)}},[e.id,e.duration,t]),(0,s.jsxs)("div",{role:"alert",className:`
        flex items-start gap-3 p-4 rounded-lg border
        bg-surface ${n.bg} ${n.glow}
        transform transition-all duration-300
        ${r?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}
      `,children:[s.jsx("span",{className:"text-xl flex-shrink-0",children:n.emoji}),s.jsx("p",{className:"flex-1 text-sm text-text-primary",children:e.message}),s.jsx("button",{onClick:()=>{i(!0),setTimeout(()=>t(e.id),300)},className:"p-1 rounded hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center -m-2","aria-label":"Dismiss notification",children:s.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}},15807:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>i.getQuoteStatusVariant,Ct:()=>i.Badge,Mx:()=>i.formatQuoteStatus,TK:()=>a.LoadingSpinner,VW:()=>s.ToastProvider,pm:()=>s.useToast}),r(97393);var s=r(94946),a=r(69524),i=r(9916);r(67943)},92912:(e,t,r)=>{"use strict";r.d(t,{DashboardLayout:()=>l});var s=r(3109),a=r(70371),i=r(93102),n=r(35650);let l=({children:e,navItems:t,activeNavId:r,headerProps:l,onNavigate:o})=>{let[c,d]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[s.jsx(i.Header,{...l,onMenuToggle:()=>d(e=>!e),showMenuButton:!0}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx(n.Sidebar,{navItems:t,activeItemId:r,isOpen:c,onClose:()=>d(!1),onNavigate:o}),s.jsx("main",{className:"flex-1 min-h-[calc(100vh-4rem)]",children:s.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:e})})]})]})}},93102:(e,t,r)=>{"use strict";r.d(t,{Header:()=>a});var s=r(3109);r(70371);let a=({appName:e="QuickQuote",logoUrl:t,userName:r,onLogout:a,onMenuToggle:i,showMenuButton:n=!0})=>s.jsx("header",{className:"sticky top-0 z-40 w-full bg-surface/95 backdrop-blur border-b border-primary/20",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[n&&s.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors md:hidden min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Toggle menu",children:s.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[t?s.jsx("img",{src:t,alt:`${e} logo`,className:"w-8 h-8 rounded-lg object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary font-bold text-sm",children:e.charAt(0)})}),s.jsx("h1",{className:"text-xl font-heading text-text-primary hidden sm:block",children:e})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[r&&s.jsx("span",{className:"text-sm text-text-muted hidden sm:block",children:r}),a&&(0,s.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-text-muted hover:text-text-primary hover:bg-primary/10 rounded-lg transition-colors min-h-[44px]",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})},35650:(e,t,r)=>{"use strict";r.d(t,{Sidebar:()=>a});var s=r(3109);r(70371);let a=({navItems:e,activeItemId:t,isOpen:r=!0,onClose:a,onNavigate:i})=>{let n=e=>{i?.(e),a?.()};return(0,s.jsxs)(s.Fragment,{children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:a,"aria-hidden":"true"}),s.jsx("aside",{className:`
          fixed md:sticky top-0 left-0 z-50 md:z-30
          h-screen w-64 bg-surface border-r border-primary/20
          transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
          md:translate-x-0
        `,children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-end p-4 md:hidden",children:s.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close menu",children:s.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:e.map(e=>{let r=e.id===t;return(0,s.jsxs)("button",{onClick:()=>n(e.href),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-lg
                    text-left transition-all duration-200 min-h-[44px]
                    ${r?"bg-primary/20 text-primary border-l-2 border-primary":"text-text-muted hover:bg-primary/10 hover:text-text-primary"}
                  `,"aria-current":r?"page":void 0,children:[e.icon&&s.jsx("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),s.jsx("span",{className:"font-medium",children:e.label})]},e.id)})}),s.jsx("div",{className:"p-4 border-t border-primary/10",children:s.jsx("p",{className:"text-xs text-text-muted text-center",children:"\uD83C\uDF83 SpookyQuote v1.0"})})]})})]})}},42509:(e,t,r)=>{"use strict";r.d(t,{OnboardingWizard:()=>h});var s=r(3109),a=r(70371),i=r.n(a),n=r(52834),l=r(45733),o=r(43121),c=r(71619),d=r(12259),u=r(69524),m=r(69656),x=r(74730);let p=[{id:1,title:"Business Details",icon:"\uD83C\uDFE2"},{id:2,title:"Logo Upload",icon:"\uD83D\uDDBC️"},{id:3,title:"Default Settings",icon:"⚙️"}],h=({onComplete:e,isLoading:t=!1,error:r})=>{let[h,g]=(0,a.useState)(1),[b,y]=(0,a.useState)({name:"",phone:"",email:"",address:"",defaultTerms:"",defaultValidityDays:7}),[j,f]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[w,C]=(0,a.useState)({}),k=(0,a.useCallback)((e,t)=>{y(r=>({...r,[e]:t})),w[e]&&C(t=>({...t,[e]:void 0}))},[w]),D=(0,a.useCallback)(()=>{let e={};return b.name.trim()||(e.name="Business name is required"),b.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)&&(e.email="Invalid email format"),C(e),0===Object.keys(e).length},[b]),S=(0,a.useCallback)(()=>{let e={};return(b.defaultValidityDays<1||b.defaultValidityDays>365)&&(e.defaultValidityDays="Validity must be between 1 and 365 days"),C(e),0===Object.keys(e).length},[b]),Q=(0,a.useCallback)(()=>{(1!==h||D())&&(3!==h||S())&&h<3&&g(e=>e+1)},[h,D,S]),P=(0,a.useCallback)(()=>{h>1&&g(e=>e-1)},[h]),A=(0,a.useCallback)(e=>{f(e);let t=new FileReader;t.onloadend=()=>{N(t.result)},t.readAsDataURL(e)},[]),L=(0,a.useCallback)(async()=>{if(S())try{let t=m.l6.parse(b);await e(t,j||void 0)}catch(e){if(e instanceof x.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),C(t)}}},[b,j,e,S]);return t?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(u.LoadingSpinner,{size:"lg",customMessage:"Setting up your business... \uD83C\uDF83"})}):(0,s.jsxs)(d.Card,{variant:"elevated",padding:"lg",className:"max-w-xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:p.map((e,t)=>(0,s.jsxs)(i().Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
                w-10 h-10 rounded-full flex items-center justify-center text-lg
                transition-all duration-300
                ${h>=e.id?"bg-primary text-white":"bg-surface border-2 border-primary/30 text-text-muted"}
              `,children:e.icon}),s.jsx("span",{className:`
              text-xs mt-1 hidden sm:block
              ${h>=e.id?"text-primary":"text-text-muted"}
            `,children:e.title})]}),t<p.length-1&&s.jsx("div",{className:`
                w-12 sm:w-20 h-1 mx-2
                ${h>e.id?"bg-primary":"bg-primary/20"}
              `})]},e.id))}),r&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:r}),1===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Tell us about your business \uD83C\uDFE2"}),s.jsx(l.Input,{label:"Business Name *",placeholder:"Enter your business name",value:b.name,onChange:e=>k("name",e.target.value),error:w.name}),s.jsx(l.Input,{label:"Phone Number",placeholder:"Enter your phone number",type:"tel",value:b.phone||"",onChange:e=>k("phone",e.target.value),error:w.phone}),s.jsx(l.Input,{label:"Email Address",placeholder:"Enter your email",type:"email",value:b.email||"",onChange:e=>k("email",e.target.value),error:w.email}),s.jsx(o.TextArea,{label:"Business Address",placeholder:"Enter your business address",value:b.address||"",onChange:e=>k("address",e.target.value),rows:3})]}),2===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Add your logo \uD83D\uDDBC️"}),s.jsx("p",{className:"text-text-muted text-sm mb-4",children:"Your logo will appear on all your quotes. You can skip this step and add it later."}),s.jsx(c.FileUpload,{label:"Business Logo",accept:"image/png,image/jpeg,image/jpg",maxSize:2097152,onFileSelect:A,preview:v,hint:"PNG or JPG, max 2MB"})]}),3===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Default Quote Settings ⚙️"}),s.jsx("p",{className:"text-text-muted text-sm mb-4",children:"Set your default terms and validity period for quotes. You can change these for individual quotes later."}),s.jsx(o.TextArea,{label:"Default Terms & Conditions",placeholder:"Enter your standard terms and conditions...",value:b.defaultTerms||"",onChange:e=>k("defaultTerms",e.target.value),rows:4,hint:"These will be pre-filled on new quotes"}),s.jsx(l.Input,{label:"Default Quote Validity (days)",type:"number",min:1,max:365,value:b.defaultValidityDays,onChange:e=>k("defaultValidityDays",parseInt(e.target.value)||7),error:w.defaultValidityDays,hint:"How long quotes are valid by default"})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8 pt-4 border-t border-primary/10",children:[s.jsx(n.Button,{variant:"ghost",onClick:P,disabled:1===h,children:"← Back"}),h<3?s.jsx(n.Button,{onClick:Q,children:"Next →"}):s.jsx(n.Button,{onClick:L,isLoading:t,children:"Complete Setup \uD83C\uDF89"})]})]})}},12977:(e,t,r)=>{"use strict";r.d(t,{CustomerSelector:()=>o});var s=r(3109),a=r(70371),i=r(45733),n=r(52834),l=r(94367);let o=({customers:e,selectedCustomer:t,onSelect:r,onCreateCustomer:o,isLoading:c=!1,error:d})=>{let[u,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),b=(0,a.useMemo)(()=>{if(!u.trim())return e;let t=u.toLowerCase().trim();return e.filter(e=>e.name.toLowerCase().includes(t)||e.phone.includes(t)||e.email&&e.email.toLowerCase().includes(t))},[e,u]),y=async e=>{g(!0);try{let t=await o(e);t&&(r(t),p(!1),m(""))}finally{g(!1)}};return t?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Selected Customer"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface border border-primary/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary text-lg",children:"\uD83D\uDC64"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-text-primary",children:t.name}),s.jsx("p",{className:"text-sm text-text-secondary",children:t.phone}),t.email&&s.jsx("p",{className:"text-xs text-text-muted",children:t.email})]})]}),s.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>r(null),children:"Change"})]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-text-primary",children:["Select Customer ",s.jsx("span",{className:"text-accent",children:"*"})]}),!x&&s.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>p(!0),children:"+ Add New"})]}),d&&s.jsx("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:d}),x?s.jsx(l.InlineCustomerForm,{onSubmit:y,onCancel:()=>p(!1),isLoading:h}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.Input,{placeholder:"Search by name, phone, or email...",value:u,onChange:e=>m(e.target.value),className:"w-full"}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-primary/20 rounded-lg divide-y divide-primary/10",children:c?s.jsx("div",{className:"p-4 text-center text-text-secondary",children:s.jsx("span",{className:"animate-pulse",children:"\uD83D\uDD2E Summoning customers..."})}):0===b.length?s.jsx("div",{className:"p-4 text-center text-text-secondary",children:u?(0,s.jsxs)("span",{children:['No customers found matching "',u,'"']}):s.jsx("span",{children:"No customers yet. Add one to get started!"})}):b.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>r(e),className:"w-full p-3 text-left hover:bg-primary/10 transition-colors flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm",children:"\uD83D\uDC64"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-text-primary truncate",children:e.name}),s.jsx("p",{className:"text-sm text-text-secondary truncate",children:e.phone})]})]},e.id))})]})]})}},33968:(e,t,r)=>{"use strict";r.d(t,{DiscountInput:()=>n});var s=r(3109);r(70371);var a=r(45733),i=r(52834);let n=({discount:e,subtotal:t,onChange:r})=>{let n=!e||e.value<=0?0:"percentage"===e.type?t*e.value/100:Math.min(e.value,t),l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=t=>{e?r({...e,type:t}):r({type:t,value:0})},c=e?.type||"percentage",d=e?.value||0;return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Discount (optional)"}),e&&e.value>0&&s.jsx(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{r(null)},className:"text-xs text-text-muted hover:text-text-secondary",children:"Clear"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex rounded-lg border border-primary/20 overflow-hidden",children:[s.jsx("button",{type:"button",onClick:()=>o("percentage"),className:`
              px-3 py-2 text-sm font-medium transition-colors
              ${"percentage"===c?"bg-primary text-white":"bg-surface text-text-secondary hover:bg-surface/80"}
            `,children:"%"}),s.jsx("button",{type:"button",onClick:()=>o("fixed"),className:`
              px-3 py-2 text-sm font-medium transition-colors
              ${"fixed"===c?"bg-primary text-white":"bg-surface text-text-secondary hover:bg-surface/80"}
            `,children:"$"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(a.Input,{type:"number",min:"0",max:"percentage"===c?100:void 0,step:"percentage"===c?1:.01,value:d||"",onChange:t=>{let s=parseFloat(t.target.value)||0;if(e?.type==="percentage"&&s>100){r({type:"percentage",value:100});return}if(s<0){r({type:e?.type||"percentage",value:0});return}r({type:e?.type||"percentage",value:s})},placeholder:"percentage"===c?"Enter %":"Enter amount",className:"w-full"})})]}),n>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-accent/10 border border-accent/20 rounded-lg",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:"percentage"===c?`${d}% off`:`${l(d)} off`}),(0,s.jsxs)("span",{className:"text-sm font-medium text-accent",children:["-",l(n)]})]})]})}},62516:(e,t,r)=>{"use strict";r.d(t,{QuoteCreationForm:()=>m});var s=r(3109),a=r(70371),i=r(12977),n=r(50411),l=r(36351),o=r(33968),c=r(52834),d=r(43121),u=r(45733);let m=({business:e,customers:t,services:r,customersLoading:m=!1,servicesLoading:x=!1,onCreateCustomer:p,onSubmit:h,isSubmitting:g=!1})=>{let[b,y]=(0,a.useState)(null),[j,f]=(0,a.useState)(new Set),[v,N]=(0,a.useState)([]),[w,C]=(0,a.useState)(null),[k,D]=(0,a.useState)(""),[S,Q]=(0,a.useState)(e.defaultTerms||""),[P,A]=(0,a.useState)(e.defaultValidityDays||7),[L,B]=(0,a.useState)(null),$=(0,a.useMemo)(()=>(function(e){var t;let r=e.items.map(e=>({...e,lineTotal:e.quantity*e.unitPrice})),s=e.items.reduce((e,t)=>e+t.quantity*t.unitPrice,0),a=e.discount?"percentage"===(t=e.discount).type?s*t.value/100:t.value:0;return{lineItems:r,subtotal:s,discountAmount:a,total:Math.max(0,s-a)}})({items:v.map(e=>({serviceId:e.serviceId,serviceName:e.serviceName,quantity:e.quantity,unitPrice:e.unitPrice})),discount:w&&w.value>0?{type:w.type,value:w.value}:void 0}),[v,w]),I=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),V=(0,a.useCallback)(e=>{f(t=>{let s=new Set(t);if(s.has(e))s.delete(e),N(t=>t.filter(t=>t.serviceId!==e));else{s.add(e);let t=r.find(t=>t.id===e);t&&N(e=>[...e,{serviceId:t.id,serviceName:t.name,quantity:1,unitPrice:t.price}])}return s})},[r]),F=(0,a.useCallback)((e,t)=>{N(r=>r.map(r=>r.serviceId===e?{...r,quantity:t}:r))},[]),T=(0,a.useCallback)(e=>{f(t=>{let r=new Set(t);return r.delete(e),r}),N(t=>t.filter(t=>t.serviceId!==e))},[]),q=async e=>{B(null);let t=await p(e);return t&&y(t),t},_=(0,a.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()+P),e},[P]),z=async e=>{if(e.preventDefault(),!b){B("Please select a customer");return}if(0===v.length)return;let t={customerId:b.id,items:v.map(e=>({serviceId:e.serviceId,serviceName:e.serviceName,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.quantity*e.unitPrice})),subtotal:$.subtotal,discountType:w?.type,discountValue:w?.value,total:$.total,notes:k||void 0,terms:S||void 0,validUntil:_};await h(t)},E=b&&v.length>0&&!g;return(0,s.jsxs)("form",{onSubmit:z,className:"space-y-8",children:[(0,s.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"1."})," Customer"]}),s.jsx(i.CustomerSelector,{customers:t,selectedCustomer:b,onSelect:y,onCreateCustomer:q,isLoading:m,error:L})]}),(0,s.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"2."})," Services"]}),s.jsx(n.ServiceSelector,{services:r,selectedServiceIds:j,onToggleService:V,isLoading:x})]}),v.length>0&&(0,s.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"3."})," Quote Items"]}),s.jsx(l.QuoteItemsList,{items:v,onQuantityChange:F,onRemove:T})]}),(0,s.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"4."})," Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(o.DiscountInput,{discount:w,subtotal:$.subtotal,onChange:C}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Valid for (days)"}),s.jsx(u.Input,{type:"number",min:"1",max:"365",value:P,onChange:e=>A(parseInt(e.target.value)||7)}),(0,s.jsxs)("p",{className:"text-xs text-text-muted mt-1",children:["Expires: ",_.toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(d.TextArea,{label:"Notes (optional)",value:k,onChange:e=>D(e.target.value),placeholder:"Add any notes for the customer...",rows:3}),s.jsx(d.TextArea,{label:"Terms & Conditions",value:S,onChange:e=>Q(e.target.value),placeholder:"Payment terms, delivery conditions, etc.",rows:3})]})]})]}),(0,s.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-accent/30",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"\uD83D\uDC80"})," Quote Summary"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-text-secondary",children:[(0,s.jsxs)("span",{children:["Subtotal (",v.length," items)"]}),s.jsx("span",{children:I($.subtotal)})]}),$.discountAmount>0&&(0,s.jsxs)("div",{className:"flex justify-between text-accent",children:[(0,s.jsxs)("span",{children:["Discount",w?.type==="percentage"&&` (${w.value}%)`]}),(0,s.jsxs)("span",{children:["-",I($.discountAmount)]})]}),s.jsx("div",{className:"border-t border-primary/20 pt-3",children:(0,s.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[s.jsx("span",{className:"text-text-primary",children:"Total"}),s.jsx("span",{className:"text-accent",children:I($.total)})]})})]}),s.jsx("div",{className:"mt-6 flex gap-4",children:s.jsx(c.Button,{type:"submit",variant:"primary",size:"lg",disabled:!E,isLoading:g,className:"flex-1",children:"\uD83C\uDF83 Generate Quote"})}),!b&&v.length>0&&s.jsx("p",{className:"text-sm text-red-400 mt-2 text-center",children:"Please select a customer to generate the quote"}),b&&0===v.length&&s.jsx("p",{className:"text-sm text-text-muted mt-2 text-center",children:"Select at least one service to generate the quote"})]})]})}},36351:(e,t,r)=>{"use strict";r.d(t,{QuoteItemRow:()=>i,QuoteItemsList:()=>n});var s=r(3109);r(70371);var a=r(52834);let i=({item:e,onQuantityChange:t,onRemove:r})=>{let i=e.quantity*e.unitPrice,n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-surface/30 rounded-lg border border-primary/10",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-text-primary truncate",children:e.serviceName}),(0,s.jsxs)("p",{className:"text-sm text-text-secondary",children:[n(e.unitPrice)," each"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{e.quantity>1&&t(e.serviceId,e.quantity-1)},disabled:e.quantity<=1,className:"w-8 h-8 p-0",children:"−"}),s.jsx("input",{type:"number",min:"1",value:e.quantity,onChange:r=>{let s=parseInt(r.target.value,10);!isNaN(s)&&s>=1&&t(e.serviceId,s)},className:"w-12 h-8 text-center bg-background border border-primary/20 rounded text-text-primary text-sm focus:outline-none focus:border-primary"}),s.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{t(e.serviceId,e.quantity+1)},className:"w-8 h-8 p-0",children:"+"})]}),s.jsx("div",{className:"w-24 text-right",children:s.jsx("p",{className:"font-semibold text-accent",children:n(i)})}),s.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(e.serviceId),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:"✕"})]})},n=({items:e,onQuantityChange:t,onRemove:r})=>0===e.length?(0,s.jsxs)("div",{className:"p-6 text-center text-text-secondary border border-dashed border-primary/20 rounded-lg",children:[s.jsx("p",{children:"No services selected yet."}),s.jsx("p",{className:"text-sm mt-1",children:"Select services above to add them to the quote."})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted uppercase tracking-wider px-3",children:[s.jsx("span",{children:"Service"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"w-24 text-center",children:"Qty"}),s.jsx("span",{className:"w-24 text-right",children:"Total"}),s.jsx("span",{className:"w-8"})]})]}),e.map(e=>s.jsx(i,{item:e,onQuantityChange:t,onRemove:r},e.serviceId))]})},46495:(e,t,r)=>{"use strict";r.d(t,{QuotePDF:()=>n,useQuotePDF:()=>i});var s=r(3109),a=r(70371);let i=(e,t)=>{let s=(0,a.useRef)(null),[i,n]=(0,a.useState)(!1),l=(0,a.useCallback)(async()=>{if(s.current&&!i){n(!0);try{let a=(await r.e(564).then(r.t.bind(r,33564,23))).default,i=s.current,n=`${e.quoteNumber}-${t.name.replace(/\s+/g,"-")}.pdf`;await a().set({margin:0,filename:n,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(i).save()}catch(e){throw console.error("Error generating PDF:",e),e}finally{n(!1)}}},[e.quoteNumber,t.name,i]);return{containerRef:s,downloadPDF:l,isGenerating:i}},n=({quote:e,business:t,customer:r,items:a})=>{let i=r||e.customer,n=a||e.items||[],l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",c=e.discountType&&e.discountValue&&e.discountValue>0,d=c?"percentage"===e.discountType?e.subtotal*e.discountValue/100:e.discountValue:0;return(0,s.jsxs)("div",{style:{width:"210mm",minHeight:"297mm",backgroundColor:"white",color:"#1f2937",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"12px",lineHeight:"1.5"},children:[s.jsx("div",{style:{background:"linear-gradient(to right, #581c87, #7c3aed)",padding:"24px",color:"white"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[t.logoUrl?s.jsx("img",{src:t.logoUrl,alt:`${t.name} logo`,style:{width:"64px",height:"64px",objectFit:"contain",backgroundColor:"white",borderRadius:"8px",padding:"4px"}}):s.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\uD83C\uDF83"}),(0,s.jsxs)("div",{children:[s.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:t.name}),t.email&&s.jsx("p",{style:{color:"#e9d5ff",fontSize:"12px",margin:"4px 0 0 0"},children:t.email}),t.phone&&s.jsx("p",{style:{color:"#e9d5ff",fontSize:"12px",margin:"2px 0 0 0"},children:t.phone})]})]}),s.jsx("div",{style:{textAlign:"right"},children:s.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"9999px",fontSize:"12px",fontWeight:"500",textTransform:"capitalize"},children:e.status})})]})}),s.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb"},children:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Quote Details"}),(0,s.jsxs)("div",{style:{fontSize:"12px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[s.jsx("span",{style:{color:"#6b7280"},children:"Quote Number:"}),s.jsx("span",{style:{fontWeight:"500"},children:e.quoteNumber})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[s.jsx("span",{style:{color:"#6b7280"},children:"Date:"}),s.jsx("span",{style:{fontWeight:"500"},children:o(e.createdAt)})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"#6b7280"},children:"Valid Until:"}),s.jsx("span",{style:{fontWeight:"500",color:"#ea580c"},children:o(e.validUntil)})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Bill To"}),i?(0,s.jsxs)("div",{style:{fontSize:"12px"},children:[s.jsx("p",{style:{fontWeight:"500",color:"#111827",margin:"0 0 4px 0"},children:i.name}),s.jsx("p",{style:{color:"#6b7280",margin:"0 0 2px 0"},children:i.phone}),i.email&&s.jsx("p",{style:{color:"#6b7280",margin:"0 0 2px 0"},children:i.email}),i.address&&s.jsx("p",{style:{color:"#6b7280",margin:0},children:i.address})]}):s.jsx("p",{style:{color:"#9ca3af",fontSize:"12px"},children:"Customer details not available"})]})]})}),(0,s.jsxs)("div",{style:{padding:"24px"},children:[s.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Services"}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{style:{borderBottom:"2px solid #e5e7eb"},children:[s.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Service"}),s.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Qty"}),s.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Unit Price"}),s.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Total"})]})}),s.jsx("tbody",{children:n.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[s.jsx("td",{style:{padding:"12px 8px",color:"#111827"},children:e.serviceName}),s.jsx("td",{style:{padding:"12px 8px",textAlign:"center",color:"#6b7280"},children:e.quantity}),s.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#6b7280"},children:l(e.unitPrice)}),s.jsx("td",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"500",color:"#111827"},children:l(e.totalPrice)})]},e.id||t))})]}),s.jsx("div",{style:{marginTop:"24px",borderTop:"1px solid #e5e7eb",paddingTop:"16px"},children:s.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:(0,s.jsxs)("div",{style:{width:"200px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px"},children:[s.jsx("span",{style:{color:"#6b7280"},children:"Subtotal:"}),s.jsx("span",{style:{fontWeight:"500"},children:l(e.subtotal)})]}),c&&(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px",color:"#16a34a"},children:[(0,s.jsxs)("span",{children:["Discount","percentage"===e.discountType&&` (${e.discountValue}%)`,":"]}),(0,s.jsxs)("span",{children:["-",l(d)]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"16px",fontWeight:"bold",borderTop:"2px solid #d1d5db",paddingTop:"8px",marginTop:"8px"},children:[s.jsx("span",{style:{color:"#111827"},children:"Total:"}),s.jsx("span",{style:{color:"#7c3aed"},children:l(e.total)})]})]})})})]}),(e.terms||e.notes)&&(0,s.jsxs)("div",{style:{padding:"0 24px 24px 24px"},children:[e.notes&&(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[s.jsx("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Notes"}),s.jsx("p",{style:{fontSize:"12px",color:"#6b7280",whiteSpace:"pre-wrap",backgroundColor:"#f9fafb",padding:"12px",borderRadius:"8px",margin:0},children:e.notes})]}),e.terms&&(0,s.jsxs)("div",{children:[s.jsx("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Terms & Conditions"}),s.jsx("p",{style:{fontSize:"12px",color:"#6b7280",whiteSpace:"pre-wrap",backgroundColor:"#f9fafb",padding:"12px",borderRadius:"8px",margin:0},children:e.terms})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#581c87",color:"#e9d5ff",textAlign:"center",padding:"12px",fontSize:"10px",marginTop:"auto"},children:[s.jsx("p",{style:{margin:0},children:"Thank you for your business! \uD83C\uDF83"}),t.address&&s.jsx("p",{style:{margin:"4px 0 0 0"},children:t.address})]})]})}},20898:(e,t,r)=>{"use strict";r.d(t,{QuotePreview:()=>i});var s=r(3109);r(70371);var a=r(9916);let i=({quote:e,business:t,customer:r,items:i,showActions:n=!0,onDownloadPDF:l,onShareWhatsApp:o,isDownloading:c=!1})=>{let d=r||e.customer,u=i||e.items||[],m=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),x=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",p=e.subtotal-e.total+(e.discountValue||0),h=e.discountType&&e.discountValue&&e.discountValue>0;return(0,s.jsxs)("div",{className:"bg-white text-gray-900 rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-purple-700 p-6 text-white",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[t.logoUrl?s.jsx("img",{src:t.logoUrl,alt:`${t.name} logo`,className:"w-16 h-16 object-contain bg-white rounded-lg p-1"}):s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"\uD83C\uDF83"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:t.name}),t.email&&s.jsx("p",{className:"text-purple-200 text-sm",children:t.email}),t.phone&&s.jsx("p",{className:"text-purple-200 text-sm",children:t.phone})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(a.Badge,{variant:(0,a.getQuoteStatusVariant)(e.status),size:"md",children:(0,a.formatQuoteStatus)(e.status)})})]})}),s.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quote Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Quote Number:"}),s.jsx("span",{className:"font-medium",children:e.quoteNumber})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{className:"font-medium",children:x(e.createdAt)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Valid Until:"}),s.jsx("span",{className:"font-medium text-orange-600",children:x(e.validUntil)})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bill To"}),d?(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:d.name}),s.jsx("p",{className:"text-gray-600",children:d.phone}),d.email&&s.jsx("p",{className:"text-gray-600",children:d.email}),d.address&&s.jsx("p",{className:"text-gray-600",children:d.address})]}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Customer details not available"})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Services"}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Service"}),s.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Qty"}),s.jsx("th",{className:"text-right py-3 px-2 font-semibold text-gray-700",children:"Unit Price"}),s.jsx("th",{className:"text-right py-3 px-2 font-semibold text-gray-700",children:"Total"})]})}),(0,s.jsxs)("tbody",{children:[u.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-2 text-gray-900",children:e.serviceName}),s.jsx("td",{className:"py-3 px-2 text-center text-gray-600",children:e.quantity}),s.jsx("td",{className:"py-3 px-2 text-right text-gray-600",children:m(e.unitPrice)}),s.jsx("td",{className:"py-3 px-2 text-right font-medium text-gray-900",children:m(e.totalPrice)})]},e.id||t)),0===u.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-6 text-center text-gray-500",children:"No items in this quote"})})]})]})}),s.jsx("div",{className:"mt-6 border-t border-gray-200 pt-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"font-medium",children:m(e.subtotal)})]}),h&&(0,s.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-sm text-green-600",children:[(0,s.jsxs)("span",{children:["Discount","percentage"===e.discountType&&` (${e.discountValue}%)`,":"]}),(0,s.jsxs)("span",{children:["-",m(p)]})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-lg font-bold border-t border-gray-300 pt-2 mt-2",children:[s.jsx("span",{className:"text-gray-900",children:"Total:"}),s.jsx("span",{className:"text-purple-700",children:m(e.total)})]})]})})]}),(e.terms||e.notes)&&(0,s.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[e.notes&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 p-3 rounded-lg",children:e.notes})]}),e.terms&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Terms & Conditions"}),s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 p-3 rounded-lg",children:e.terms})]})]}),n&&(l||o)&&s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 justify-end",children:[l&&s.jsx("button",{onClick:l,disabled:c,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"animate-spin",children:"⏳"}),"Generating..."]}):s.jsx(s.Fragment,{children:"\uD83D\uDCC4 Download PDF"})}),o&&s.jsx("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"\uD83D\uDCAC Share on WhatsApp"})]})}),(0,s.jsxs)("div",{className:"bg-purple-900 text-purple-200 text-center py-3 text-xs",children:[s.jsx("p",{children:"Thank you for your business! \uD83C\uDF83"}),t.address&&s.jsx("p",{className:"mt-1",children:t.address})]})]})}},87473:(e,t,r)=>{"use strict";r.d(t,{QuoteShare:()=>c});var s=r(3109),a=r(70371);let i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),n=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";async function l(e){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();let r=document.execCommand("copy");return document.body.removeChild(t),r}}catch{return!1}}var o=r(94946);let c=({quote:e,business:t,customer:r,baseUrl:c="",className:d=""})=>{let{addToast:u}=(0,o.useToast)(),[m,x]=(0,a.useState)(!1),p=function(e,t){let r=t.replace(/\/$/,"");return`${r}/quotes/${e}`}(e.id,c),h=(0,a.useCallback)(()=>{let s=r||e.customer,a=function(e,t){let r=encodeURIComponent(e);if(t){let e=t.replace(/[\s\-\(\)]/g,"");return`https://wa.me/${e}?text=${r}`}return`https://wa.me/?text=${r}`}(function(e){let{quote:t,business:r,customer:s,quoteLink:a}=e,l=s||t.customer,o=l?.name||"Valued Customer";return`🎃 *Quote from ${r.name}* 🎃

Hi ${o}! 👋

Here's your quote details:

📋 *Quote Number:* ${t.quoteNumber}
📅 *Date:* ${n(t.createdAt)}
⏰ *Valid Until:* ${n(t.validUntil)}

💰 *Total Amount:* ${i(t.total)}

🔗 *View Full Quote:*
${a}

Thank you for your interest! Feel free to reach out if you have any questions. 🙏

_Sent via QuickQuote_ 👻`}({quote:e,business:t,customer:s,quoteLink:p}),s?.phone);window.open(a,"_blank","noopener,noreferrer"),u("success","\uD83C\uDF83 Opening WhatsApp... Spooky quote on its way!")},[e,t,r,p,u]),g=(0,a.useCallback)(async()=>{x(!0);try{await l(p)?u("success","\uD83D\uDC7B Link copied to clipboard!"):u("error","\uD83D\uDE31 Failed to copy link. Please try again.")}catch{u("error","\uD83D\uDE31 Failed to copy link. Please try again.")}finally{x(!1)}},[p,u]);return(0,s.jsxs)("div",{className:`flex flex-wrap gap-3 ${d}`,children:[(0,s.jsxs)("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Share quote on WhatsApp",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Share on WhatsApp"]}),s.jsx("button",{onClick:g,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Copy quote link to clipboard",children:m?(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"animate-spin",children:"⏳"}),"Copying..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy Link"]})})]})}},50411:(e,t,r)=>{"use strict";r.d(t,{ServiceSelector:()=>n});var s=r(3109),a=r(70371),i=r(52534);let n=({services:e,selectedServiceIds:t,onToggleService:r,isLoading:n=!1})=>{let l=(0,a.useMemo)(()=>{let t=new Map;e.filter(e=>e.isActive).forEach(e=>{let r=e.category||"Uncategorized",s=t.get(r)||[];t.set(r,[...s,e])});let r=Array.from(t.keys()).sort((e,t)=>"Uncategorized"===e?1:"Uncategorized"===t?-1:e.localeCompare(t));return{grouped:t,sortedCategories:r}},[e]),o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return n?(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),s.jsx("div",{className:"p-8 text-center text-text-secondary border border-primary/20 rounded-lg",children:s.jsx("span",{className:"animate-pulse",children:"\uD83C\uDF83 Loading services..."})})]}):0===e.length?(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),(0,s.jsxs)("div",{className:"p-8 text-center text-text-secondary border border-primary/20 rounded-lg",children:[s.jsx("p",{children:"No services available."}),s.jsx("p",{className:"text-sm mt-1",children:"Add services in the Services page first."})]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),(0,s.jsxs)("span",{className:"text-sm text-text-secondary",children:[t.size," selected"]})]}),s.jsx("div",{className:"border border-primary/20 rounded-lg divide-y divide-primary/10 max-h-80 overflow-y-auto",children:l.sortedCategories.map(e=>{let a=l.grouped.get(e)||[];return(0,s.jsxs)("div",{className:"p-3",children:[s.jsx("h4",{className:"text-xs font-semibold text-accent uppercase tracking-wider mb-2",children:e}),s.jsx("div",{className:"space-y-2",children:a.map(e=>{let a=t.has(e.id);return(0,s.jsxs)("label",{className:`
                        flex items-center justify-between p-2 rounded-lg cursor-pointer
                        transition-colors
                        ${a?"bg-primary/20 border border-primary/40":"hover:bg-surface/50 border border-transparent"}
                      `,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(i.Checkbox,{checked:a,onChange:()=>r(e.id)}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-text-primary text-sm",children:e.name}),e.description&&s.jsx("p",{className:"text-xs text-text-muted truncate max-w-xs",children:e.description})]})]}),s.jsx("span",{className:"text-sm font-medium text-accent",children:o(e.price)})]},e.id)})})]},e)})})]})}},40658:(e,t,r)=>{"use strict";r.d(t,{QuoteList:()=>d});var s=r(3109),a=r(70371),i=r(9916),n=r(52834),l=r(45733),o=r(69524);let c=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Accepted",value:"accepted"},{label:"Rejected",value:"rejected"},{label:"Expired",value:"expired"}],d=({quotes:e,loading:t,error:r,onViewQuote:d,onDuplicateQuote:u,onUpdateStatus:m,onRefetch:x,duplicateLoading:p=!1,statusUpdateLoading:h=!1})=>{let[g,b]=(0,a.useState)("all"),[y,j]=(0,a.useState)(""),[f,v]=(0,a.useState)(null),N=(0,a.useMemo)(()=>{let t=e;if("all"!==g&&(t=t.filter(e=>e.status===g)),y.trim()){let e=y.toLowerCase().trim();t=t.filter(t=>t.quoteNumber.toLowerCase().includes(e)||t.customer?.name.toLowerCase().includes(e))}return t},[e,g,y]),w=async(e,t)=>{if(m){v(e);try{await m(e,t)}finally{v(null)}}},C=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(o.LoadingSpinner,{size:"lg"})}):r?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-red-400 mb-4",children:["\uD83D\uDC7B ",r.message]}),x&&s.jsx(n.Button,{variant:"secondary",onClick:x,children:"Try Again"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsx("h2",{className:"text-2xl font-bold text-halloween-green",children:"\uD83D\uDCDC Your Quotes"})}),s.jsx("div",{className:"max-w-md",children:s.jsx(l.Input,{placeholder:"Search by customer name or quote number...",value:y,onChange:e=>j(e.target.value),className:"w-full"})}),s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-halloween-purple/20 pb-4",children:c.map(t=>(0,s.jsxs)("button",{onClick:()=>b(t.value),className:`
              px-4 py-2 rounded-lg font-medium transition-all
              ${g===t.value?"bg-halloween-purple text-white":"bg-surface text-text-muted hover:bg-halloween-purple/20"}
            `,children:[t.label,"all"!==t.value&&(0,s.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["(",e.filter(e=>e.status===t.value).length,")"]})]},t.value))}),0===N.length?(0,s.jsxs)("div",{className:"text-center py-12 text-text-muted",children:[s.jsx("p",{className:"text-4xl mb-4",children:"\uD83E\uDD87"}),s.jsx("p",{children:"No quotes found. Time to conjure some new ones!"})]}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-halloween-purple/20",children:[s.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Quote #"}),s.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Customer"}),s.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Status"}),s.jsx("th",{className:"text-right py-3 px-4 text-text-muted font-medium",children:"Total"}),s.jsx("th",{className:"text-right py-3 px-4 text-text-muted font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:N.map(e=>(0,s.jsxs)("tr",{className:"border-b border-halloween-purple/10 hover:bg-halloween-purple/5 transition-colors",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"font-mono text-halloween-orange",children:e.quoteNumber})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-text",children:e.customer?.name||"Unknown Customer"})}),s.jsx("td",{className:"py-4 px-4 text-text-muted",children:C(e.createdAt)}),s.jsx("td",{className:"py-4 px-4",children:s.jsx(i.Badge,{variant:(0,i.getQuoteStatusVariant)(e.status),children:(0,i.formatQuoteStatus)(e.status)})}),s.jsx("td",{className:"py-4 px-4 text-right font-semibold text-halloween-green",children:k(e.total)}),s.jsx("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[d&&s.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>d(e),children:"View"}),u&&s.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>u(e),disabled:p,children:"Duplicate"}),m&&"expired"!==e.status&&(0,s.jsxs)("select",{value:e.status,onChange:t=>w(e.id,t.target.value),disabled:h&&f===e.id,className:" bg-surface border border-halloween-purple/30 rounded-lg px-2 py-1 text-sm text-text focus:outline-none focus:ring-2 focus:ring-halloween-purple/50 disabled:opacity-50 ",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})})]},e.id))})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-halloween-purple/20 text-text-muted text-sm",children:[(0,s.jsxs)("span",{children:["Showing ",N.length," of ",e.length," quotes"]}),"all"!==g&&s.jsx("button",{onClick:()=>b("all"),className:"text-halloween-purple hover:underline",children:"Clear filter"})]})]})}},80444:(e,t,r)=>{"use strict";r.d(t,{ServiceCard:()=>i});var s=r(3109);r(70371);var a=r(9916);let i=({service:e,onEdit:t,onDelete:r})=>{let i;return s.jsx("div",{className:"bg-surface border border-primary/20 rounded-lg p-4 hover:border-primary/40 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-text-primary font-medium truncate",children:e.name}),!e.isActive&&s.jsx(a.Badge,{variant:"warning",size:"sm",children:"Inactive"})]}),e.description&&s.jsx("p",{className:"text-text-muted text-sm line-clamp-2 mb-2",children:e.description}),s.jsx("p",{className:"text-accent font-semibold text-lg",children:(i=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Edit ${e.name}`,children:s.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>r(e),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Delete ${e.name}`,children:s.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})}},65706:(e,t,r)=>{"use strict";r.d(t,{ServiceForm:()=>d});var s=r(3109),a=r(70371),i=r(52834),n=r(45733),l=r(43121),o=r(74730),c=r(69656);let d=({service:e,onSubmit:t,onCancel:r,isLoading:d=!1})=>{let[u,m]=(0,a.useState)({name:"",description:"",price:0,category:""}),[x,p]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&m({name:e.name,description:e.description||"",price:e.price,category:e.category||""})},[e]);let h=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:"price"===t?parseFloat(r)||0:r})),x[t]&&p(e=>({...e,[t]:""}))},g=async e=>{e.preventDefault();let r=function(e){try{return c.a6.parse(e),{success:!0,errors:{}}}catch(e){if(e instanceof o.jm){let t={};return e.errors.forEach(e=>{t[e.path.join(".")]=e.message}),{success:!1,errors:t}}return{success:!1,errors:{_form:"Validation failed"}}}}(u);if(!r.success){p(r.errors);return}try{await t(u)}catch(e){p({_form:e instanceof Error?e.message:"Failed to save service"})}};return(0,s.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[x._form&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:x._form}),s.jsx(n.Input,{label:"Service Name",name:"name",value:u.name,onChange:h,error:x.name,placeholder:"e.g., Basic Website Design",required:!0}),s.jsx(l.TextArea,{label:"Description",name:"description",value:u.description||"",onChange:h,error:x.description,placeholder:"Describe what this service includes...",rows:3}),s.jsx(n.Input,{label:"Price",name:"price",type:"number",step:"0.01",min:"0.01",value:u.price||"",onChange:h,error:x.price,placeholder:"0.00",required:!0}),s.jsx(n.Input,{label:"Category",name:"category",value:u.category||"",onChange:h,error:x.category,placeholder:"e.g., Web Design, Photography"}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[s.jsx(i.Button,{type:"button",variant:"secondary",onClick:r,disabled:d,children:"Cancel"}),s.jsx(i.Button,{type:"submit",variant:"primary",isLoading:d,className:"flex-1",children:e?"Update Service":"Add Service"})]})]})}},59839:(e,t,r)=>{"use strict";r.d(t,{ServiceList:()=>u});var s=r(3109),a=r(70371),i=r.n(a),n=r(80444),l=r(65706),o=r(97393),c=r(52834),d=r(69524);let u=({services:e,loading:t,error:r,onCreateService:u,onUpdateService:m,onDeleteService:x,onRefetch:p,createLoading:h=!1,updateLoading:g=!1,deleteLoading:b=!1})=>{let[y,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),C=i().useMemo(()=>{let t=new Map;return e.filter(e=>e.isActive).forEach(e=>{let r=e.category||"Uncategorized",s=t.get(r)||[];t.set(r,[...s,e])}),new Map(Array.from(t.entries()).sort((e,t)=>"Uncategorized"===e[0]?1:"Uncategorized"===t[0]?-1:e[0].localeCompare(t[0])))},[e]),k=async e=>{await u(e)&&(j(!1),await p())},D=async e=>{f&&await m(f.id,e)&&(v(null),await p())},S=async()=>{N&&await x(N.id)&&(w(null),await p())};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(d.LoadingSpinner,{customMessage:"Summoning your services..."})}):r?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-400 mb-4",children:"Something spooky happened! \uD83D\uDC7B"}),s.jsx("p",{className:"text-text-muted mb-4",children:r.message}),s.jsx(c.Button,{variant:"secondary",onClick:p,children:"Try Again"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Services"}),s.jsx("p",{className:"text-text-muted text-sm",children:"Manage your service offerings and prices"})]}),s.jsx(c.Button,{variant:"primary",onClick:()=>j(!0),children:"+ Add Service"})]}),0===C.size?(0,s.jsxs)("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:[s.jsx("p",{className:"text-text-muted mb-4",children:"No services yet. Add your first service to get started!"}),s.jsx(c.Button,{variant:"primary",onClick:()=>j(!0),children:"+ Add Your First Service"})]}):s.jsx("div",{className:"space-y-8",children:Array.from(C.entries()).map(([e,t])=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-text-primary mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-accent",children:"\uD83C\uDF83"}),e,(0,s.jsxs)("span",{className:"text-text-muted text-sm font-normal",children:["(",t.length,")"]})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>s.jsx(n.ServiceCard,{service:e,onEdit:v,onDelete:w},e.id))})]},e))}),s.jsx(o.Modal,{isOpen:y,onClose:()=>j(!1),title:"Add New Service",size:"md",children:s.jsx(l.ServiceForm,{onSubmit:k,onCancel:()=>j(!1),isLoading:h})}),s.jsx(o.Modal,{isOpen:!!f,onClose:()=>v(null),title:"Edit Service",size:"md",children:s.jsx(l.ServiceForm,{service:f,onSubmit:D,onCancel:()=>v(null),isLoading:g})}),s.jsx(o.Modal,{isOpen:!!N,onClose:()=>w(null),title:"Delete Service",size:"sm",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-text-primary",children:["Are you sure you want to delete"," ",s.jsx("span",{className:"font-semibold",children:N?.name}),"?"]}),s.jsx("p",{className:"text-text-muted text-sm",children:"This service will be hidden from future quotes but preserved in existing quotes."}),(0,s.jsxs)("div",{className:"flex gap-3 pt-2",children:[s.jsx(c.Button,{variant:"secondary",onClick:()=>w(null),disabled:b,children:"Cancel"}),s.jsx(c.Button,{variant:"primary",onClick:S,isLoading:b,className:"bg-red-600 hover:bg-red-700",children:"Delete Service"})]})]})})]})}},88909:(e,t,r)=>{"use strict";r.d(t,{SettingsPage:()=>p});var s=r(3109),a=r(70371),i=r(52834),n=r(45733),l=r(43121),o=r(71619),c=r(12259),d=r(59839),u=r(69656),m=r(74730);let x=[{id:"business",label:"Business Profile",icon:"\uD83C\uDFE2"},{id:"services",label:"Services",icon:"\uD83D\uDCCB"},{id:"defaults",label:"Quote Defaults",icon:"⚙️"}],p=({business:e,onUpdateBusiness:t,onUploadLogo:r,businessLoading:p=!1,businessError:h,serviceListProps:g})=>{let[b,y]=(0,a.useState)("business"),[j,f]=(0,a.useState)({name:e.name,phone:e.phone||"",email:e.email||"",address:e.address||"",defaultTerms:e.defaultTerms||"",defaultValidityDays:e.defaultValidityDays}),[v,N]=(0,a.useState)(null),[w,C]=(0,a.useState)(e.logoUrl||null),[k,D]=(0,a.useState)({}),[S,Q]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),L=(0,a.useCallback)((e,t)=>{f(r=>({...r,[e]:t})),Q(!1),k[e]&&D(t=>({...t,[e]:void 0}))},[k]),B=(0,a.useCallback)(()=>{let e={};return j.name.trim()||(e.name="Business name is required"),j.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)&&(e.email="Invalid email format"),(j.defaultValidityDays<1||j.defaultValidityDays>365)&&(e.defaultValidityDays="Validity must be between 1 and 365 days"),D(e),0===Object.keys(e).length},[j]),$=(0,a.useCallback)(e=>{N(e),Q(!1);let t=new FileReader;t.onloadend=()=>{C(t.result)},t.readAsDataURL(e)},[]),I=(0,a.useCallback)(async()=>{if(B()){A(!0);try{let e=u.l6.parse(j);v&&(await r(v),N(null)),await t(e)&&(Q(!0),setTimeout(()=>Q(!1),3e3))}catch(e){if(e instanceof m.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),D(t)}}finally{A(!1)}}},[j,v,t,r,B]),V=(0,a.useCallback)(async()=>{if(B()){A(!0);try{let e=u.l6.parse(j);await t(e)&&(Q(!0),setTimeout(()=>Q(!1),3e3))}catch(e){if(e instanceof m.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),D(t)}}finally{A(!1)}}},[j,t,B]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Settings"}),s.jsx("p",{className:"text-text-muted",children:"Manage your business profile and preferences"})]}),s.jsx("div",{className:"flex gap-2 p-1 bg-surface rounded-xl border border-primary/20",children:x.map(e=>(0,s.jsxs)("button",{onClick:()=>y(e.id),className:`
        flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-lg transition-all
        ${b===e.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-text-muted hover:text-text-primary hover:bg-surface"}
      `,children:[s.jsx("span",{children:e.icon}),s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),(0,s.jsxs)("div",{children:["business"===b&&s.jsx(c.Card,{variant:"elevated",padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:"Business Profile"}),s.jsx("p",{className:"text-text-muted text-sm",children:"Update your business information that appears on quotes"})]}),h&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:h.message}),S&&s.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400 text-sm",children:"✓ Changes saved successfully!"}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(n.Input,{label:"Business Name *",placeholder:"Enter your business name",value:j.name,onChange:e=>L("name",e.target.value),error:k.name}),s.jsx(n.Input,{label:"Phone Number",placeholder:"Enter your phone number",type:"tel",value:j.phone||"",onChange:e=>L("phone",e.target.value),error:k.phone})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsx(n.Input,{label:"Email Address",placeholder:"Enter your email",type:"email",value:j.email||"",onChange:e=>L("email",e.target.value),error:k.email}),s.jsx("div",{className:"sm:col-span-2",children:s.jsx(l.TextArea,{label:"Business Address",placeholder:"Enter your business address",value:j.address||"",onChange:e=>L("address",e.target.value),rows:2})})]}),s.jsx("div",{children:s.jsx(o.FileUpload,{label:"Business Logo",accept:"image/png,image/jpeg,image/jpg",maxSize:2097152,onFileSelect:$,preview:w,hint:"PNG or JPG, max 2MB"})}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-primary/10",children:s.jsx(i.Button,{onClick:I,isLoading:P||p,children:"Save Changes"})})]})}),"services"===b&&s.jsx(c.Card,{variant:"elevated",padding:"lg",children:s.jsx(d.ServiceList,{...g,onRefetch:g.onRefetch})}),"defaults"===b&&s.jsx(c.Card,{variant:"elevated",padding:"lg",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:"Default Quote Settings"}),s.jsx("p",{className:"text-text-muted text-sm",children:"Configure default values for new quotes"})]}),S&&s.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400 text-sm",children:"✓ Changes saved successfully!"}),s.jsx(l.TextArea,{label:"Default Terms & Conditions",placeholder:"Enter your standard terms and conditions...",value:j.defaultTerms||"",onChange:e=>L("defaultTerms",e.target.value),rows:6,hint:"These will be pre-filled on new quotes"}),s.jsx(n.Input,{label:"Default Quote Validity (days)",type:"number",min:1,max:365,value:j.defaultValidityDays,onChange:e=>L("defaultValidityDays",parseInt(e.target.value)||7),error:k.defaultValidityDays,hint:"How long quotes are valid by default (1-365 days)"}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-primary/10",children:s.jsx(i.Button,{onClick:V,isLoading:P||p,children:"Save Defaults"})})]})})]})]})}},52834:(e,t,r)=>{"use strict";r.d(t,{Button:()=>l});var s=r(3109),a=r(70371);let i={primary:"bg-primary text-white hover:bg-primary/90 focus:ring-primary/50 shadow-lg shadow-primary/25",secondary:"bg-surface text-text-primary border border-primary/30 hover:bg-primary/10 focus:ring-primary/30",ghost:"bg-transparent text-text-primary hover:bg-surface focus:ring-primary/20"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},l=(0,a.forwardRef)(({variant:e="primary",size:t="md",isLoading:r=!1,disabled:a,className:l="",children:o,...c},d)=>s.jsx("button",{ref:d,disabled:a||r,className:`inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed min-w-[44px] min-h-[44px] ${i[e]} ${n[t]} ${l}`,...c,children:r?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Loading..."})]}):o}));l.displayName="Button"},12259:(e,t,r)=>{"use strict";r.d(t,{Card:()=>n,CardContent:()=>c,CardFooter:()=>d,CardHeader:()=>l,CardTitle:()=>o});var s=r(3109);r(70371);let a={default:"bg-surface border border-primary/20",elevated:"bg-surface shadow-lg shadow-primary/10",outlined:"bg-transparent border-2 border-primary/30"},i={none:"",sm:"p-3",md:"p-4",lg:"p-6"},n=({variant:e="default",padding:t="md",className:r="",children:n,...l})=>s.jsx("div",{className:`rounded-xl transition-all duration-200 ${a[e]} ${i[t]} ${r}`,...l,children:n}),l=({className:e="",children:t,...r})=>s.jsx("div",{className:`mb-4 ${e}`,...r,children:t}),o=({className:e="",children:t,...r})=>s.jsx("h3",{className:`text-lg font-semibold text-text-primary ${e}`,...r,children:t}),c=({className:e="",children:t,...r})=>s.jsx("div",{className:`text-text-muted ${e}`,...r,children:t}),d=({className:e="",children:t,...r})=>s.jsx("div",{className:`mt-4 pt-4 border-t border-primary/10 ${e}`,...r,children:t})},52534:(e,t,r)=>{"use strict";r.d(t,{Checkbox:()=>a});var s=r(3109);let a=(0,r(70371).forwardRef)(({label:e,error:t,className:r="",id:a,...i},n)=>{let l=a||e?.toLowerCase().replace(/\s+/g,"-");return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("label",{htmlFor:l,className:"flex items-center gap-3 cursor-pointer min-h-[44px]",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{ref:n,type:"checkbox",id:l,className:`peer w-5 h-5 bg-surface border border-primary/30 rounded appearance-none cursor-pointer transition-all duration-200 checked:bg-primary checked:border-primary focus:outline-none focus:ring-2 focus:ring-primary/50 ${r}`,"aria-invalid":!!t,...i}),s.jsx("svg",{className:"absolute top-0.5 left-0.5 w-4 h-4 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),e&&s.jsx("span",{className:"text-sm text-text-primary select-none",children:e})]}),t&&s.jsx("span",{className:"text-sm text-red-500 ml-8",role:"alert",children:t})]})});a.displayName="Checkbox"},71619:(e,t,r)=>{"use strict";r.d(t,{FileUpload:()=>i});var s=r(3109),a=r(70371);let i=({label:e,accept:t="image/png,image/jpeg,image/jpg",maxSize:r=2097152,error:i,hint:n,onFileSelect:l,preview:o,disabled:c=!1})=>{let d=(0,a.useRef)(null),[u,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),h=(0,a.useCallback)(e=>{if(!t.split(",").map(e=>e.trim()).includes(e.type))return"Invalid file type. Please upload PNG or JPG.";if(e.size>r){let e=Math.round(r/1048576);return`File too large. Maximum size is ${e}MB.`}return null},[t,r]),g=(0,a.useCallback)(e=>{let t=h(e);if(t){p(t);return}p(null),l(e)},[h,l]),b=(0,a.useCallback)(e=>{if(e.preventDefault(),m(!1),c)return;let t=e.dataTransfer.files[0];t&&g(t)},[c,g]),y=(0,a.useCallback)(e=>{e.preventDefault(),c||m(!0)},[c]),j=(0,a.useCallback)(()=>{m(!1)},[]),f=i||x;return(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&s.jsx("label",{className:"text-sm font-medium text-text-primary",children:e}),(0,s.jsxs)("div",{onClick:()=>{c||d.current?.click()},onDrop:b,onDragOver:y,onDragLeave:j,className:`
          relative flex flex-col items-center justify-center
          w-full min-h-[150px] p-4
          border-2 border-dashed rounded-lg
          transition-all duration-200 cursor-pointer
          ${u?"border-primary bg-primary/10":f?"border-red-500 bg-red-500/5":"border-primary/30 hover:border-primary/50 hover:bg-surface"}
          ${c?"opacity-50 cursor-not-allowed":""}
        `,children:[s.jsx("input",{ref:d,type:"file",accept:t,onChange:e=>{let t=e.target.files?.[0];t&&g(t)},disabled:c,className:"hidden"}),o?(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("img",{src:o,alt:"Preview",className:"max-h-24 max-w-full object-contain rounded"}),s.jsx("span",{className:"text-sm text-text-muted",children:"Click or drag to replace"})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"text-3xl",children:"\uD83D\uDCC1"}),s.jsx("span",{className:"text-sm text-text-primary font-medium",children:"Click to upload or drag and drop"}),(0,s.jsxs)("span",{className:"text-xs text-text-muted",children:["PNG or JPG (max ",Math.round(r/1048576),"MB)"]})]})]}),f&&s.jsx("span",{className:"text-sm text-red-500",role:"alert",children:f}),n&&!f&&s.jsx("span",{className:"text-sm text-text-muted",children:n})]})}},45733:(e,t,r)=>{"use strict";r.d(t,{Input:()=>a});var s=r(3109);let a=(0,r(70371).forwardRef)(({label:e,error:t,hint:r,className:a="",id:i,...n},l)=>{let o=i||e?.toLowerCase().replace(/\s+/g,"-"),c=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&s.jsx("label",{htmlFor:o,className:"text-sm font-medium text-text-primary",children:e}),s.jsx("input",{ref:l,id:o,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary placeholder:text-text-muted transition-all duration-200 focus:outline-none focus:ring-2 min-h-[44px] ${c} ${a}`,"aria-invalid":!!t,"aria-describedby":t?`${o}-error`:r?`${o}-hint`:void 0,...n}),t&&s.jsx("span",{id:`${o}-error`,className:"text-sm text-red-500",role:"alert",children:t}),r&&!t&&s.jsx("span",{id:`${o}-hint`,className:"text-sm text-text-muted",children:r})]})});a.displayName="Input"},57921:(e,t,r)=>{"use strict";r.d(t,{Select:()=>a});var s=r(3109);let a=(0,r(70371).forwardRef)(({label:e,error:t,hint:r,options:a,placeholder:i,className:n="",id:l,...o},c)=>{let d=l||e?.toLowerCase().replace(/\s+/g,"-"),u=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&s.jsx("label",{htmlFor:d,className:"text-sm font-medium text-text-primary",children:e}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{ref:c,id:d,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary transition-all duration-200 focus:outline-none focus:ring-2 min-h-[44px] appearance-none cursor-pointer ${u} ${n}`,"aria-invalid":!!t,"aria-describedby":t?`${d}-error`:r?`${d}-hint`:void 0,...o,children:[i&&s.jsx("option",{value:"",disabled:!0,children:i}),a.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t&&s.jsx("span",{id:`${d}-error`,className:"text-sm text-red-500",role:"alert",children:t}),r&&!t&&s.jsx("span",{id:`${d}-hint`,className:"text-sm text-text-muted",children:r})]})});a.displayName="Select"},43121:(e,t,r)=>{"use strict";r.d(t,{TextArea:()=>a});var s=r(3109);let a=(0,r(70371).forwardRef)(({label:e,error:t,hint:r,className:a="",id:i,rows:n=4,...l},o)=>{let c=i||e?.toLowerCase().replace(/\s+/g,"-"),d=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&s.jsx("label",{htmlFor:c,className:"text-sm font-medium text-text-primary",children:e}),s.jsx("textarea",{ref:o,id:c,rows:n,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary placeholder:text-text-muted transition-all duration-200 focus:outline-none focus:ring-2 resize-y min-h-[100px] ${d} ${a}`,"aria-invalid":!!t,"aria-describedby":t?`${c}-error`:r?`${c}-hint`:void 0,...l}),t&&s.jsx("span",{id:`${c}-error`,className:"text-sm text-red-500",role:"alert",children:t}),r&&!t&&s.jsx("span",{id:`${c}-hint`,className:"text-sm text-text-muted",children:r})]})});a.displayName="TextArea"},94441:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var s=r(70371),a=r(97270);function i(){let[e,t]=(0,s.useState)({user:null,loading:!0,error:null}),r=(0,s.useMemo)(()=>(0,a.AY)(),[]),i=(0,s.useCallback)(async()=>{if(r){t(e=>({...e,loading:!0,error:null}));try{let{error:e}=await r.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(e)throw e}catch(e){t(t=>({...t,error:e,loading:!1}))}}},[r]),n=(0,s.useCallback)(async(e,s)=>{if(r){t(e=>({...e,loading:!0,error:null}));try{let{error:t}=await r.auth.signInWithPassword({email:e,password:s});if(t)throw t}catch(e){t(t=>({...t,error:e,loading:!1}))}}},[r]),l=(0,s.useCallback)(async(e,s)=>{if(r){t(e=>({...e,loading:!0,error:null}));try{let{error:t}=await r.auth.signUp({email:e,password:s,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t}catch(e){t(t=>({...t,error:e,loading:!1}))}}},[r]),o=(0,s.useCallback)(async()=>{if(r){t(e=>({...e,loading:!0,error:null}));try{let{error:e}=await r.auth.signOut();if(e)throw e;t(e=>({...e,user:null,loading:!1}))}catch(e){t(t=>({...t,error:e,loading:!1}))}}},[r]),c=(0,s.useCallback)(()=>{t(e=>({...e,error:null}))},[]);return{...e,signInWithGoogle:i,signInWithEmail:n,signUpWithEmail:l,signOut:o,clearError:c}}},97270:(e,t,r)=>{"use strict";r.d(t,{AY:()=>i});var s=r(82515);let a=null;function i(){if(a)return a;let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return e&&t?a=(0,s.eI)(e,t):null}},69656:(e,t,r)=>{"use strict";r.d(t,{_K:()=>u,a6:()=>d,l6:()=>c});var s=r(53502);s.Ry({id:s.Z_().uuid(),userId:s.Z_().uuid(),name:s.Z_().min(1,"Business name is required"),logoUrl:s.Z_().url().optional().nullable(),phone:s.Z_().optional().nullable(),email:s.Z_().email("Invalid email format").optional().nullable(),address:s.Z_().optional().nullable(),defaultTerms:s.Z_().optional().nullable(),defaultValidityDays:s.Rx().int().min(1).default(7),createdAt:s.oQ.date(),updatedAt:s.oQ.date()}).omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({userId:!0}),s.Ry({id:s.Z_().uuid(),businessId:s.Z_().uuid(),name:s.Z_().min(1,"Service name is required"),description:s.Z_().optional().nullable(),price:s.Rx().positive("Price must be a positive number"),category:s.Z_().optional().nullable(),isActive:s.O7().default(!0),createdAt:s.oQ.date(),updatedAt:s.oQ.date()}).omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({businessId:!0});let a=s.Ry({id:s.Z_().uuid(),businessId:s.Z_().uuid(),name:s.Z_().min(1,"Customer name is required"),phone:s.Z_().min(1,"Phone number is required"),email:s.Z_().email("Invalid email format").optional().nullable(),address:s.Z_().optional().nullable(),createdAt:s.oQ.date(),updatedAt:s.oQ.date()});a.omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({businessId:!0});let i=s.Km(["pending","accepted","rejected","expired"]),n=s.Ry({id:s.Z_().uuid(),quoteId:s.Z_().uuid(),serviceId:s.Z_().uuid().optional().nullable(),serviceName:s.Z_().min(1,"Service name is required"),quantity:s.Rx().int().positive("Quantity must be a positive integer"),unitPrice:s.Rx().nonnegative("Unit price must be non-negative"),totalPrice:s.Rx().nonnegative("Total price must be non-negative"),createdAt:s.oQ.date()});n.omit({id:!0,quoteId:!0,createdAt:!0});let l=s.Km(["percentage","fixed"]);s.Ry({id:s.Z_().uuid(),businessId:s.Z_().uuid(),customerId:s.Z_().uuid().optional().nullable(),quoteNumber:s.Z_().regex(/^QQ-\d{4}-\d{3,}$/,"Invalid quote number format"),status:i.default("pending"),subtotal:s.Rx().nonnegative("Subtotal must be non-negative"),discountType:l.optional().nullable(),discountValue:s.Rx().nonnegative("Discount value must be non-negative").default(0),total:s.Rx().nonnegative("Total must be non-negative"),notes:s.Z_().optional().nullable(),terms:s.Z_().optional().nullable(),validUntil:s.oQ.date().optional().nullable(),createdAt:s.oQ.date(),updatedAt:s.oQ.date(),customer:s.Vo(()=>a).optional(),items:s.IX(s.Vo(()=>n)).optional()}).omit({id:!0,quoteNumber:!0,createdAt:!0,updatedAt:!0,customer:!0,items:!0}).partial().omit({businessId:!0});let o=e=>s.Z_().refine(e=>e.trim().length>0,{message:`${e} is required`}),c=s.Ry({name:o("Business name").pipe(s.Z_().max(255)),phone:s.Z_().max(50).optional(),email:s.Z_().email("Invalid email format").max(255).optional().or(s.i0("")),address:s.Z_().optional(),defaultTerms:s.Z_().optional(),defaultValidityDays:s.Rx().int().min(1).max(365).default(7)}),d=s.Ry({name:o("Service name").pipe(s.Z_().max(255)),description:s.Z_().optional(),price:s.Rx().positive("Price must be a positive number"),category:s.Z_().max(100).optional()}),u=s.Ry({name:o("Customer name").pipe(s.Z_().max(255)),phone:o("Phone number").pipe(s.Z_().max(50)),email:s.Z_().email("Invalid email format").max(255).optional().or(s.i0("")),address:s.Z_().optional()})},71622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>u});var s=r(37432),a=r(62445),i=r.n(a),n=r(95021),l=r.n(n),o=r(54361);(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Button.tsx#Button`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Input.tsx#Input`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Select.tsx#Select`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Checkbox.tsx#Checkbox`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/TextArea.tsx#TextArea`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#Card`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardHeader`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardTitle`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardContent`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardFooter`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/FileUpload.tsx#FileUpload`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/Header.tsx#Header`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/Sidebar.tsx#Sidebar`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/DashboardLayout.tsx#DashboardLayout`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Modal.tsx#Modal`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#useToast`);let c=(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastProvider`);(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastContainer`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastItem`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/LoadingSpinner.tsx#LoadingSpinner`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/LoadingSpinner.tsx#LoadingOverlay`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#Badge`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#getQuoteStatusVariant`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#formatQuoteStatus`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/HalloweenDecorations.tsx#HalloweenDecorations`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/HalloweenDecorations.tsx#CobwebCorner`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/HalloweenDecorations.tsx#SpookyDivider`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/HalloweenDecorations.tsx#SpookyBadge`);let d=(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/auth/AuthProvider.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/auth/AuthProvider.tsx#useAuthContext`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/onboarding/OnboardingWizard.tsx#OnboardingWizard`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceForm.tsx#ServiceForm`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceCard.tsx#ServiceCard`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceList.tsx#ServiceList`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerForm.tsx#CustomerForm`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerCard.tsx#CustomerCard`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerList.tsx#CustomerList`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/InlineCustomerForm.tsx#InlineCustomerForm`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/CustomerSelector.tsx#CustomerSelector`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/ServiceSelector.tsx#ServiceSelector`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteItemRow.tsx#QuoteItemRow`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteItemRow.tsx#QuoteItemsList`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/DiscountInput.tsx#DiscountInput`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteCreationForm.tsx#QuoteCreationForm`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePreview.tsx#QuotePreview`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePreview.tsx#default`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#useQuotePDF`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#QuotePDF`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#default`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteShare.tsx#QuoteShare`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteShare.tsx#default`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quotes/QuoteList.tsx#QuoteList`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/StatsCard.tsx#StatsCard`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/RecentQuotes.tsx#RecentQuotes`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/QuickActions.tsx#QuickActions`),(0,o.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/settings/SettingsPage.tsx#SettingsPage`),r(250);let u={title:"SpookyQuote - Web Designer",description:"Create professional quotes for your web design clients"};function m({children:e}){return s.jsx("html",{lang:"en",className:"dark",children:s.jsx("body",{className:`${i().variable} ${l().variable} font-body bg-background text-text-primary`,children:s.jsx(d,{children:s.jsx(c,{children:e})})})})}},250:()=>{}};