exports.id=898,exports.ids=[898],exports.modules={68978:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,18309,23)),Promise.resolve().then(s.t.bind(s,25964,23)),Promise.resolve().then(s.t.bind(s,66283,23)),Promise.resolve().then(s.t.bind(s,85999,23)),Promise.resolve().then(s.t.bind(s,88586,23)),Promise.resolve().then(s.t.bind(s,23437,23))},51491:(e,t,s)=>{Promise.resolve().then(s.bind(s,59020)),Promise.resolve().then(s.bind(s,69981)),Promise.resolve().then(s.bind(s,68305)),Promise.resolve().then(s.bind(s,31899)),Promise.resolve().then(s.bind(s,94367)),Promise.resolve().then(s.bind(s,55771)),Promise.resolve().then(s.bind(s,24888)),Promise.resolve().then(s.bind(s,4168)),Promise.resolve().then(s.bind(s,9916)),Promise.resolve().then(s.bind(s,69524)),Promise.resolve().then(s.bind(s,97393)),Promise.resolve().then(s.bind(s,94946)),Promise.resolve().then(s.bind(s,92912)),Promise.resolve().then(s.bind(s,93102)),Promise.resolve().then(s.bind(s,35650)),Promise.resolve().then(s.bind(s,42509)),Promise.resolve().then(s.bind(s,12977)),Promise.resolve().then(s.bind(s,33968)),Promise.resolve().then(s.bind(s,62516)),Promise.resolve().then(s.bind(s,36351)),Promise.resolve().then(s.bind(s,46495)),Promise.resolve().then(s.bind(s,20898)),Promise.resolve().then(s.bind(s,87473)),Promise.resolve().then(s.bind(s,50411)),Promise.resolve().then(s.bind(s,40658)),Promise.resolve().then(s.bind(s,80444)),Promise.resolve().then(s.bind(s,65706)),Promise.resolve().then(s.bind(s,59839)),Promise.resolve().then(s.bind(s,88909)),Promise.resolve().then(s.bind(s,52834)),Promise.resolve().then(s.bind(s,12259)),Promise.resolve().then(s.bind(s,52534)),Promise.resolve().then(s.bind(s,71619)),Promise.resolve().then(s.bind(s,45733)),Promise.resolve().then(s.bind(s,57921)),Promise.resolve().then(s.bind(s,43121))},59020:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,useAuthContext:()=>o});var r=s(3109),a=s(70371),i=s(94441);let n=(0,a.createContext)(null);function l({children:e}){let t=(0,i.a)();return r.jsx(n.Provider,{value:t,children:e})}function o(){let e=(0,a.useContext)(n);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},69981:(e,t,s)=>{"use strict";s.d(t,{CustomerCard:()=>a});var r=s(3109);s(70371);let a=({customer:e,onEdit:t,onSelect:s,isSelected:a=!1,selectable:i=!1})=>{let n=()=>{i&&s&&s(e)};return r.jsx("div",{className:`bg-surface border rounded-lg p-4 transition-colors ${i?"cursor-pointer":""} ${a?"border-primary bg-primary/10":"border-primary/20 hover:border-primary/40"}`,onClick:n,role:i?"button":void 0,tabIndex:i?0:void 0,onKeyDown:i?e=>"Enter"===e.key&&n():void 0,children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-text-primary font-medium truncate",children:e.name}),a&&r.jsx("span",{className:"text-primary text-sm",children:"✓"})]}),(0,r.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.phone]}),e.email&&(0,r.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1 mt-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{className:"truncate",children:e.email})]}),e.address&&(0,r.jsxs)("p",{className:"text-text-muted text-sm flex items-center gap-1 mt-1",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"truncate",children:e.address})]})]}),!i&&r.jsx("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Edit ${e.name}`,children:r.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})}},68305:(e,t,s)=>{"use strict";s.d(t,{CustomerForm:()=>c});var r=s(3109),a=s(70371),i=s(52834),n=s(45733),l=s(43121),o=s(69656);let c=({customer:e,onSubmit:t,onCancel:s,isLoading:c=!1,compact:d=!1})=>{let[u,m]=(0,a.useState)({name:"",phone:"",email:"",address:""}),[x,p]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&m({name:e.name,phone:e.phone,email:e.email||"",address:e.address||""})},[e]);let h=e=>{let{name:t,value:s}=e.target;m(e=>({...e,[t]:s})),x[t]&&p(e=>({...e,[t]:""}))},g=async e=>{e.preventDefault();let s=o._K.safeParse(u);if(!s.success){let e={};s.error.errors.forEach(t=>{t.path[0]&&(e[t.path[0]]=t.message)}),p(e);return}try{await t(u)}catch(e){p({_form:e instanceof Error?e.message:"Failed to save customer"})}};return(0,r.jsxs)("form",{onSubmit:g,className:d?"space-y-3":"space-y-4",children:[x._form&&r.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:x._form}),r.jsx(n.Input,{label:"Customer Name",name:"name",value:u.name,onChange:h,error:x.name,placeholder:"e.g., John Smith",required:!0}),r.jsx(n.Input,{label:"Phone Number",name:"phone",type:"tel",value:u.phone,onChange:h,error:x.phone,placeholder:"e.g., +1 555-123-4567",required:!0}),r.jsx(n.Input,{label:"Email (optional)",name:"email",type:"email",value:u.email||"",onChange:h,error:x.email,placeholder:"e.g., john@example.com"}),!d&&r.jsx(l.TextArea,{label:"Address (optional)",name:"address",value:u.address||"",onChange:h,error:x.address,placeholder:"Enter customer address...",rows:2}),(0,r.jsxs)("div",{className:`flex gap-3 ${d?"pt-2":"pt-4"}`,children:[r.jsx(i.Button,{type:"button",variant:"secondary",onClick:s,disabled:c,children:"Cancel"}),r.jsx(i.Button,{type:"submit",variant:"primary",isLoading:c,className:"flex-1",children:e?"Update Customer":"Add Customer"})]})]})}},31899:(e,t,s)=>{"use strict";s.d(t,{CustomerList:()=>u});var r=s(3109),a=s(70371),i=s(69981),n=s(68305),l=s(97393),o=s(52834),c=s(45733),d=s(69524);let u=({customers:e,loading:t,error:s,onCreateCustomer:u,onUpdateCustomer:m,onRefetch:x,createLoading:p=!1,updateLoading:h=!1})=>{let[g,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(""),N=(0,a.useMemo)(()=>{if(!f.trim())return e;let t=f.toLowerCase().trim();return e.filter(e=>e.name.toLowerCase().includes(t)||e.phone.includes(f)||e.email&&e.email.toLowerCase().includes(t))},[e,f]),C=async e=>{await u(e)&&(b(!1),await x())},w=async e=>{y&&await m(y.id,e)&&(j(null),await x())};return t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(d.LoadingSpinner,{customMessage:"Summoning your customers..."})}):s?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 mb-4",children:"Something spooky happened! \uD83D\uDC7B"}),r.jsx("p",{className:"text-text-muted mb-4",children:s.message}),r.jsx(o.Button,{variant:"secondary",onClick:x,children:"Try Again"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Customers"}),r.jsx("p",{className:"text-text-muted text-sm",children:"Manage your customer contacts"})]}),r.jsx(o.Button,{variant:"primary",onClick:()=>b(!0),children:"+ Add Customer"})]}),e.length>0&&(0,r.jsxs)("div",{className:"relative",children:[r.jsx(c.Input,{placeholder:"Search customers by name, phone, or email...",value:f,onChange:e=>v(e.target.value),className:"pl-10"}),r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:[r.jsx("p",{className:"text-text-muted mb-4",children:"No customers yet. Add your first customer to get started!"}),r.jsx(o.Button,{variant:"primary",onClick:()=>b(!0),children:"+ Add Your First Customer"})]}):0===N.length?r.jsx("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:(0,r.jsxs)("p",{className:"text-text-muted",children:['No customers found matching "',f,'"']})}):r.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:N.map(e=>r.jsx(i.CustomerCard,{customer:e,onEdit:j},e.id))}),f&&N.length>0&&(0,r.jsxs)("p",{className:"text-text-muted text-sm",children:["Found ",N.length," customer",1!==N.length?"s":""]}),r.jsx(l.Modal,{isOpen:g,onClose:()=>b(!1),title:"Add New Customer",size:"md",children:r.jsx(n.CustomerForm,{onSubmit:C,onCancel:()=>b(!1),isLoading:p})}),r.jsx(l.Modal,{isOpen:!!y,onClose:()=>j(null),title:"Edit Customer",size:"md",children:r.jsx(n.CustomerForm,{customer:y,onSubmit:w,onCancel:()=>j(null),isLoading:h})})]})}},94367:(e,t,s)=>{"use strict";s.d(t,{InlineCustomerForm:()=>o});var r=s(3109),a=s(70371),i=s(52834),n=s(45733),l=s(69656);let o=({onSubmit:e,onCancel:t,isLoading:s=!1})=>{let[o,c]=(0,a.useState)({name:"",phone:"",email:"",address:""}),[d,u]=(0,a.useState)({}),m=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:s})),d[t]&&u(e=>({...e,[t]:""}))},x=async t=>{t.preventDefault();let s=l._K.safeParse(o);if(!s.success){let e={};s.error.errors.forEach(t=>{t.path[0]&&(e[t.path[0]]=t.message)}),u(e);return}try{await e(o)}catch(e){u({_form:e instanceof Error?e.message:"Failed to create customer"})}};return(0,r.jsxs)("form",{onSubmit:x,className:"p-4 bg-surface/50 border border-primary/20 rounded-lg space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-accent",children:"\uD83D\uDC64"}),r.jsx("h4",{className:"text-sm font-medium text-text-primary",children:"Quick Add Customer"})]}),d._form&&r.jsx("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-xs",children:d._form}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(n.Input,{label:"Name",name:"name",value:o.name,onChange:m,error:d.name,placeholder:"Customer name",required:!0}),r.jsx(n.Input,{label:"Phone",name:"phone",type:"tel",value:o.phone,onChange:m,error:d.phone,placeholder:"Phone number",required:!0})]}),r.jsx(n.Input,{label:"Email (optional)",name:"email",type:"email",value:o.email||"",onChange:m,error:d.email,placeholder:"Email address"}),(0,r.jsxs)("div",{className:"flex gap-2 pt-1",children:[r.jsx(i.Button,{type:"button",variant:"secondary",size:"sm",onClick:t,disabled:s,children:"Cancel"}),r.jsx(i.Button,{type:"submit",variant:"primary",size:"sm",isLoading:s,children:"Add & Select"})]})]})}},55771:(e,t,s)=>{"use strict";s.d(t,{QuickActions:()=>i});var r=s(3109);s(70371);var a=s(52834);function i({onCreateQuote:e,onViewAllQuotes:t,onManageServices:s,onManageCustomers:i,onSettings:n,className:l=""}){return(0,r.jsxs)("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        ${l}
      `,children:[r.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Quick Actions ⚡"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)(a.Button,{variant:"primary",onClick:e,className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"✨"}),r.jsx("span",{children:"Create Quote"})]}),(0,r.jsxs)(a.Button,{variant:"secondary",onClick:t,className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDCCB"}),r.jsx("span",{children:"View All"})]}),(0,r.jsxs)(a.Button,{variant:"ghost",onClick:s,className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDEE0️"}),r.jsx("span",{children:"Services"})]}),(0,r.jsxs)(a.Button,{variant:"ghost",onClick:i,className:"flex items-center justify-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDC65"}),r.jsx("span",{children:"Customers"})]}),(0,r.jsxs)(a.Button,{variant:"ghost",onClick:n,className:"flex items-center justify-center gap-2 col-span-2",children:[r.jsx("span",{children:"⚙️"}),r.jsx("span",{children:"Settings"})]})]})]})}},24888:(e,t,s)=>{"use strict";s.d(t,{RecentQuotes:()=>i});var r=s(3109);s(70371);var a=s(15807);function i({quotes:e,onViewQuote:t,className:s=""}){let i=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return 0===e.length?(0,r.jsxs)("div",{className:`
          bg-surface rounded-xl p-6 
          border border-halloween-purple/20
          ${s}
        `,children:[r.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Recent Quotes \uD83D\uDCDC"}),r.jsx("p",{className:"text-text-muted text-center py-8",children:"No quotes yet. Create your first spooky quote! \uD83C\uDF83"})]}):(0,r.jsxs)("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        ${s}
      `,children:[r.jsx("h3",{className:"text-lg font-semibold text-text mb-4",children:"Recent Quotes \uD83D\uDCDC"}),r.jsx("div",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("div",{onClick:()=>t?.(e.id),className:`
              flex items-center justify-between p-3 rounded-lg
              bg-background/50 hover:bg-background
              transition-colors duration-200
              ${t?"cursor-pointer":""}
            `,children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-text truncate",children:e.quoteNumber}),r.jsx(a.Ct,{variant:(0,a.Cd)(e.status),size:"sm",children:(0,a.Mx)(e.status)})]}),r.jsx("p",{className:"text-sm text-text-muted truncate",children:e.customer?.name||"Unknown Customer"})]}),(0,r.jsxs)("div",{className:"text-right ml-4",children:[r.jsx("p",{className:"font-semibold text-halloween-green",children:n(e.total)}),r.jsx("p",{className:"text-xs text-text-muted",children:i(e.createdAt)})]})]},e.id))})]})}},4168:(e,t,s)=>{"use strict";s.d(t,{StatsCard:()=>a});var r=s(3109);function a({title:e,value:t,icon:s,trend:a,className:i=""}){return r.jsx("div",{className:`
        bg-surface rounded-xl p-6 
        border border-halloween-purple/20
        hover:border-halloween-purple/40
        transition-all duration-300
        ${i}
      `,children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-text-muted text-sm font-medium mb-1",children:e}),r.jsx("p",{className:"text-2xl font-bold text-text",children:t}),a&&(0,r.jsxs)("p",{className:`text-sm mt-2 ${a.isPositive?"text-halloween-green":"text-red-400"}`,children:[a.isPositive?"↑":"↓"," ",Math.abs(a.value),"%"]})]}),s&&r.jsx("div",{className:"text-halloween-purple text-2xl",children:s})]})})}s(70371)},9916:(e,t,s)=>{"use strict";s.d(t,{Badge:()=>l,formatQuoteStatus:()=>c,getQuoteStatusVariant:()=>o});var r=s(3109);s(70371);let a={default:"bg-surface text-text-muted border-primary/20",primary:"bg-primary/20 text-primary border-primary/30",success:"bg-green-500/20 text-green-400 border-green-500/30",warning:"bg-orange-500/20 text-orange-400 border-orange-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",accepted:"bg-green-500/20 text-green-400 border-green-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30",expired:"bg-gray-500/20 text-gray-400 border-gray-500/30"},i={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"},n={pending:"⏳",accepted:"✓",rejected:"✗",expired:"⌛"},l=({variant:e="default",size:t="md",children:s,className:l=""})=>{let o=n[e];return(0,r.jsxs)("span",{className:`
        inline-flex items-center gap-1 font-medium rounded-full border
        ${a[e]}
        ${i[t]}
        ${l}
      `,children:[o&&r.jsx("span",{className:"flex-shrink-0",children:o}),s]})},o=e=>e,c=e=>e.charAt(0).toUpperCase()+e.slice(1)},69524:(e,t,s)=>{"use strict";s.d(t,{LoadingOverlay:()=>o,LoadingSpinner:()=>l});var r=s(3109),a=s(70371);let i={sm:{spinner:"w-6 h-6",text:"text-sm"},md:{spinner:"w-10 h-10",text:"text-base"},lg:{spinner:"w-16 h-16",text:"text-lg"}},n=["Summoning your quote... \uD83C\uDF83","Brewing the numbers... \uD83E\uDDD9‍♀️","Consulting the spirits... \uD83D\uDC7B","Casting calculation spells... ✨","Awakening the data... \uD83E\uDD87","Stirring the cauldron... \uD83D\uDD2E","Gathering moonlight... \uD83C\uDF19","Channeling dark magic... \uD83D\uDD6F️"],l=({size:e="md",showMessage:t=!0,customMessage:s})=>{let[l,o]=(0,a.useState)(0),c=i[e];(0,a.useEffect)(()=>{if(!t||s)return;let e=setInterval(()=>{o(e=>(e+1)%n.length)},2e3);return()=>clearInterval(e)},[t,s]);let d=s||n[l];return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",role:"status","aria-live":"polite",children:[(0,r.jsxs)("div",{className:`relative ${c.spinner}`,children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-primary animate-spin"}),r.jsx("div",{className:"absolute inset-2 rounded-full bg-primary/10 animate-pulse"})]}),t&&r.jsx("p",{className:`${c.text} text-text-muted text-center animate-pulse`,children:d}),r.jsx("span",{className:"sr-only",children:"Loading, please wait"})]})},o=({isVisible:e,...t})=>e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:r.jsx(l,{...t,size:"lg"})}):null},97393:(e,t,s)=>{"use strict";s.d(t,{Modal:()=>n});var r=s(3109),a=s(70371);let i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},n=({isOpen:e,onClose:t,title:s,children:n,size:l="md",showCloseButton:o=!0})=>{let c=(0,a.useCallback)(e=>{"Escape"===e.key&&t()},[t]);return((0,a.useEffect)(()=>(e&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}),[e,c]),e)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),(0,r.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":s?"modal-title":void 0,className:`
          relative w-full ${i[l]} mx-4
          bg-surface border border-primary/20 rounded-xl
          shadow-2xl shadow-primary/10
          transform transition-all duration-300
          animate-in fade-in zoom-in-95
        `,children:[(s||o)&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-primary/10",children:[s&&r.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-text-primary",children:s}),o&&r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center ml-auto","aria-label":"Close modal",children:r.jsx("svg",{className:"w-5 h-5 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-4",children:n})]})]}):null}},94946:(e,t,s)=>{"use strict";s.d(t,{ToastContainer:()=>o,ToastItem:()=>d,ToastProvider:()=>l,useToast:()=>n});var r=s(3109),a=s(70371);let i=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e},l=({children:e})=>{let[t,s]=(0,a.useState)([]),n=(0,a.useCallback)((e,t,r=5e3)=>{let a=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;s(s=>[...s,{id:a,type:e,message:t,duration:r}])},[]),l=(0,a.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]);return(0,r.jsxs)(i.Provider,{value:{toasts:t,addToast:n,removeToast:l},children:[e,r.jsx(o,{toasts:t,onRemove:l})]})},o=({toasts:e,onRemove:t})=>r.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm w-full","aria-live":"polite","aria-label":"Notifications",children:e.map(e=>r.jsx(d,{toast:e,onRemove:t},e.id))}),c={success:{bg:"bg-green-500/20 border-green-500/50",icon:"text-green-500",emoji:"\uD83C\uDF83"},error:{bg:"bg-red-500/20 border-red-500/50",icon:"text-red-500",emoji:"\uD83D\uDC7B"},warning:{bg:"bg-orange-500/20 border-orange-500/50",icon:"text-orange-500",emoji:"\uD83E\uDD87"},info:{bg:"bg-primary/20 border-primary/50",icon:"text-primary",emoji:"\uD83D\uDD2E"}},d=({toast:e,onRemove:t})=>{let[s,i]=(0,a.useState)(!1),n=c[e.type];return(0,a.useEffect)(()=>{if(e.duration&&e.duration>0){let s=setTimeout(()=>{i(!0),setTimeout(()=>t(e.id),300)},e.duration);return()=>clearTimeout(s)}},[e.id,e.duration,t]),(0,r.jsxs)("div",{role:"alert",className:`
        flex items-start gap-3 p-4 rounded-lg border
        bg-surface ${n.bg}
        shadow-lg shadow-black/20
        transform transition-all duration-300
        ${s?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}
      `,children:[r.jsx("span",{className:"text-xl flex-shrink-0",children:n.emoji}),r.jsx("p",{className:"flex-1 text-sm text-text-primary",children:e.message}),r.jsx("button",{onClick:()=>{i(!0),setTimeout(()=>t(e.id),300)},className:"p-1 rounded hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center -m-2","aria-label":"Dismiss notification",children:r.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}},15807:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>i.getQuoteStatusVariant,Ct:()=>i.Badge,Mx:()=>i.formatQuoteStatus,TK:()=>a.LoadingSpinner,VW:()=>r.ToastProvider,pm:()=>r.useToast}),s(97393);var r=s(94946),a=s(69524),i=s(9916)},92912:(e,t,s)=>{"use strict";s.d(t,{DashboardLayout:()=>l});var r=s(3109),a=s(70371),i=s(93102),n=s(35650);let l=({children:e,navItems:t,activeNavId:s,headerProps:l,onNavigate:o})=>{let[c,d]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(i.Header,{...l,onMenuToggle:()=>d(e=>!e),showMenuButton:!0}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(n.Sidebar,{navItems:t,activeItemId:s,isOpen:c,onClose:()=>d(!1),onNavigate:o}),r.jsx("main",{className:"flex-1 min-h-[calc(100vh-4rem)]",children:r.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:e})})]})]})}},93102:(e,t,s)=>{"use strict";s.d(t,{Header:()=>a});var r=s(3109);s(70371);let a=({appName:e="QuickQuote",logoUrl:t,userName:s,onLogout:a,onMenuToggle:i,showMenuButton:n=!0})=>r.jsx("header",{className:"sticky top-0 z-40 w-full bg-surface/95 backdrop-blur border-b border-primary/20",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[n&&r.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors md:hidden min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Toggle menu",children:r.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[t?r.jsx("img",{src:t,alt:`${e} logo`,className:"w-8 h-8 rounded-lg object-cover"}):r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center",children:r.jsx("span",{className:"text-primary font-bold text-sm",children:e.charAt(0)})}),r.jsx("h1",{className:"text-xl font-heading text-text-primary hidden sm:block",children:e})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[s&&r.jsx("span",{className:"text-sm text-text-muted hidden sm:block",children:s}),a&&(0,r.jsxs)("button",{onClick:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-text-muted hover:text-text-primary hover:bg-primary/10 rounded-lg transition-colors min-h-[44px]",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})},35650:(e,t,s)=>{"use strict";s.d(t,{Sidebar:()=>a});var r=s(3109);s(70371);let a=({navItems:e,activeItemId:t,isOpen:s=!0,onClose:a,onNavigate:i})=>{let n=e=>{i?.(e),a?.()};return(0,r.jsxs)(r.Fragment,{children:[s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:a,"aria-hidden":"true"}),r.jsx("aside",{className:`
          fixed md:sticky top-0 left-0 z-50 md:z-30
          h-screen w-64 bg-surface border-r border-primary/20
          transform transition-transform duration-300 ease-in-out
          ${s?"translate-x-0":"-translate-x-full md:translate-x-0"}
          md:translate-x-0
        `,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex items-center justify-end p-4 md:hidden",children:r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close menu",children:r.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:e.map(e=>{let s=e.id===t;return(0,r.jsxs)("button",{onClick:()=>n(e.href),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-lg
                    text-left transition-all duration-200 min-h-[44px]
                    ${s?"bg-primary/20 text-primary border-l-2 border-primary":"text-text-muted hover:bg-primary/10 hover:text-text-primary"}
                  `,"aria-current":s?"page":void 0,children:[e.icon&&r.jsx("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),r.jsx("span",{className:"font-medium",children:e.label})]},e.id)})}),r.jsx("div",{className:"p-4 border-t border-primary/10",children:r.jsx("p",{className:"text-xs text-text-muted text-center",children:"\uD83C\uDF83 SpookyQuote v1.0"})})]})})]})}},42509:(e,t,s)=>{"use strict";s.d(t,{OnboardingWizard:()=>h});var r=s(3109),a=s(70371),i=s.n(a),n=s(52834),l=s(45733),o=s(43121),c=s(71619),d=s(12259),u=s(69524),m=s(69656),x=s(74730);let p=[{id:1,title:"Business Details",icon:"\uD83C\uDFE2"},{id:2,title:"Logo Upload",icon:"\uD83D\uDDBC️"},{id:3,title:"Default Settings",icon:"⚙️"}],h=({onComplete:e,isLoading:t=!1,error:s})=>{let[h,g]=(0,a.useState)(1),[b,y]=(0,a.useState)({name:"",phone:"",email:"",address:"",defaultTerms:"",defaultValidityDays:7}),[j,f]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[C,w]=(0,a.useState)({}),k=(0,a.useCallback)((e,t)=>{y(s=>({...s,[e]:t})),C[e]&&w(t=>({...t,[e]:void 0}))},[C]),S=(0,a.useCallback)(()=>{let e={};return b.name.trim()||(e.name="Business name is required"),b.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)&&(e.email="Invalid email format"),w(e),0===Object.keys(e).length},[b]),D=(0,a.useCallback)(()=>{let e={};return(b.defaultValidityDays<1||b.defaultValidityDays>365)&&(e.defaultValidityDays="Validity must be between 1 and 365 days"),w(e),0===Object.keys(e).length},[b]),Q=(0,a.useCallback)(()=>{(1!==h||S())&&(3!==h||D())&&h<3&&g(e=>e+1)},[h,S,D]),P=(0,a.useCallback)(()=>{h>1&&g(e=>e-1)},[h]),A=(0,a.useCallback)(e=>{f(e);let t=new FileReader;t.onloadend=()=>{N(t.result)},t.readAsDataURL(e)},[]),L=(0,a.useCallback)(async()=>{if(D())try{let t=m.l6.parse(b);await e(t,j||void 0)}catch(e){if(e instanceof x.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),w(t)}}},[b,j,e,D]);return t?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(u.LoadingSpinner,{size:"lg",customMessage:"Setting up your business... \uD83C\uDF83"})}):(0,r.jsxs)(d.Card,{variant:"elevated",padding:"lg",className:"max-w-xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-center mb-8",children:p.map((e,t)=>(0,r.jsxs)(i().Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`
                w-10 h-10 rounded-full flex items-center justify-center text-lg
                transition-all duration-300
                ${h>=e.id?"bg-primary text-white":"bg-surface border-2 border-primary/30 text-text-muted"}
              `,children:e.icon}),r.jsx("span",{className:`
              text-xs mt-1 hidden sm:block
              ${h>=e.id?"text-primary":"text-text-muted"}
            `,children:e.title})]}),t<p.length-1&&r.jsx("div",{className:`
                w-12 sm:w-20 h-1 mx-2
                ${h>e.id?"bg-primary":"bg-primary/20"}
              `})]},e.id))}),s&&r.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:s}),1===h&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Tell us about your business \uD83C\uDFE2"}),r.jsx(l.Input,{label:"Business Name *",placeholder:"Enter your business name",value:b.name,onChange:e=>k("name",e.target.value),error:C.name}),r.jsx(l.Input,{label:"Phone Number",placeholder:"Enter your phone number",type:"tel",value:b.phone||"",onChange:e=>k("phone",e.target.value),error:C.phone}),r.jsx(l.Input,{label:"Email Address",placeholder:"Enter your email",type:"email",value:b.email||"",onChange:e=>k("email",e.target.value),error:C.email}),r.jsx(o.TextArea,{label:"Business Address",placeholder:"Enter your business address",value:b.address||"",onChange:e=>k("address",e.target.value),rows:3})]}),2===h&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Add your logo \uD83D\uDDBC️"}),r.jsx("p",{className:"text-text-muted text-sm mb-4",children:"Your logo will appear on all your quotes. You can skip this step and add it later."}),r.jsx(c.FileUpload,{label:"Business Logo",accept:"image/png,image/jpeg,image/jpg",maxSize:2097152,onFileSelect:A,preview:v,hint:"PNG or JPG, max 2MB"})]}),3===h&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Default Quote Settings ⚙️"}),r.jsx("p",{className:"text-text-muted text-sm mb-4",children:"Set your default terms and validity period for quotes. You can change these for individual quotes later."}),r.jsx(o.TextArea,{label:"Default Terms & Conditions",placeholder:"Enter your standard terms and conditions...",value:b.defaultTerms||"",onChange:e=>k("defaultTerms",e.target.value),rows:4,hint:"These will be pre-filled on new quotes"}),r.jsx(l.Input,{label:"Default Quote Validity (days)",type:"number",min:1,max:365,value:b.defaultValidityDays,onChange:e=>k("defaultValidityDays",parseInt(e.target.value)||7),error:C.defaultValidityDays,hint:"How long quotes are valid by default"})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-8 pt-4 border-t border-primary/10",children:[r.jsx(n.Button,{variant:"ghost",onClick:P,disabled:1===h,children:"← Back"}),h<3?r.jsx(n.Button,{onClick:Q,children:"Next →"}):r.jsx(n.Button,{onClick:L,isLoading:t,children:"Complete Setup \uD83C\uDF89"})]})]})}},12977:(e,t,s)=>{"use strict";s.d(t,{CustomerSelector:()=>o});var r=s(3109),a=s(70371),i=s(45733),n=s(52834),l=s(94367);let o=({customers:e,selectedCustomer:t,onSelect:s,onCreateCustomer:o,isLoading:c=!1,error:d})=>{let[u,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),b=(0,a.useMemo)(()=>{if(!u.trim())return e;let t=u.toLowerCase().trim();return e.filter(e=>e.name.toLowerCase().includes(t)||e.phone.includes(t)||e.email&&e.email.toLowerCase().includes(t))},[e,u]),y=async e=>{g(!0);try{let t=await o(e);t&&(s(t),p(!1),m(""))}finally{g(!1)}};return t?(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Selected Customer"}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface border border-primary/30 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-lg",children:"\uD83D\uDC64"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-text-primary",children:t.name}),r.jsx("p",{className:"text-sm text-text-secondary",children:t.phone}),t.email&&r.jsx("p",{className:"text-xs text-text-muted",children:t.email})]})]}),r.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>s(null),children:"Change"})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text-primary",children:["Select Customer ",r.jsx("span",{className:"text-accent",children:"*"})]}),!x&&r.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>p(!0),children:"+ Add New"})]}),d&&r.jsx("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:d}),x?r.jsx(l.InlineCustomerForm,{onSubmit:y,onCancel:()=>p(!1),isLoading:h}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Input,{placeholder:"Search by name, phone, or email...",value:u,onChange:e=>m(e.target.value),className:"w-full"}),r.jsx("div",{className:"max-h-60 overflow-y-auto border border-primary/20 rounded-lg divide-y divide-primary/10",children:c?r.jsx("div",{className:"p-4 text-center text-text-secondary",children:r.jsx("span",{className:"animate-pulse",children:"\uD83D\uDD2E Summoning customers..."})}):0===b.length?r.jsx("div",{className:"p-4 text-center text-text-secondary",children:u?(0,r.jsxs)("span",{children:['No customers found matching "',u,'"']}):r.jsx("span",{children:"No customers yet. Add one to get started!"})}):b.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>s(e),className:"w-full p-3 text-left hover:bg-primary/10 transition-colors flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-sm",children:"\uD83D\uDC64"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-text-primary truncate",children:e.name}),r.jsx("p",{className:"text-sm text-text-secondary truncate",children:e.phone})]})]},e.id))})]})]})}},33968:(e,t,s)=>{"use strict";s.d(t,{DiscountInput:()=>n});var r=s(3109);s(70371);var a=s(45733),i=s(52834);let n=({discount:e,subtotal:t,onChange:s})=>{let n=!e||e.value<=0?0:"percentage"===e.type?t*e.value/100:Math.min(e.value,t),l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=t=>{e?s({...e,type:t}):s({type:t,value:0})},c=e?.type||"percentage",d=e?.value||0;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Discount (optional)"}),e&&e.value>0&&r.jsx(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{s(null)},className:"text-xs text-text-muted hover:text-text-secondary",children:"Clear"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex rounded-lg border border-primary/20 overflow-hidden",children:[r.jsx("button",{type:"button",onClick:()=>o("percentage"),className:`
              px-3 py-2 text-sm font-medium transition-colors
              ${"percentage"===c?"bg-primary text-white":"bg-surface text-text-secondary hover:bg-surface/80"}
            `,children:"%"}),r.jsx("button",{type:"button",onClick:()=>o("fixed"),className:`
              px-3 py-2 text-sm font-medium transition-colors
              ${"fixed"===c?"bg-primary text-white":"bg-surface text-text-secondary hover:bg-surface/80"}
            `,children:"$"})]}),r.jsx("div",{className:"flex-1",children:r.jsx(a.Input,{type:"number",min:"0",max:"percentage"===c?100:void 0,step:"percentage"===c?1:.01,value:d||"",onChange:t=>{let r=parseFloat(t.target.value)||0;if(e?.type==="percentage"&&r>100){s({type:"percentage",value:100});return}if(r<0){s({type:e?.type||"percentage",value:0});return}s({type:e?.type||"percentage",value:r})},placeholder:"percentage"===c?"Enter %":"Enter amount",className:"w-full"})})]}),n>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-accent/10 border border-accent/20 rounded-lg",children:[r.jsx("span",{className:"text-sm text-text-secondary",children:"percentage"===c?`${d}% off`:`${l(d)} off`}),(0,r.jsxs)("span",{className:"text-sm font-medium text-accent",children:["-",l(n)]})]})]})}},62516:(e,t,s)=>{"use strict";s.d(t,{QuoteCreationForm:()=>m});var r=s(3109),a=s(70371),i=s(12977),n=s(50411),l=s(36351),o=s(33968),c=s(52834),d=s(43121),u=s(45733);let m=({business:e,customers:t,services:s,customersLoading:m=!1,servicesLoading:x=!1,onCreateCustomer:p,onSubmit:h,isSubmitting:g=!1})=>{let[b,y]=(0,a.useState)(null),[j,f]=(0,a.useState)(new Set),[v,N]=(0,a.useState)([]),[C,w]=(0,a.useState)(null),[k,S]=(0,a.useState)(""),[D,Q]=(0,a.useState)(e.defaultTerms||""),[P,A]=(0,a.useState)(e.defaultValidityDays||7),[L,B]=(0,a.useState)(null),I=(0,a.useMemo)(()=>(function(e){var t;let s=e.items.map(e=>({...e,lineTotal:e.quantity*e.unitPrice})),r=e.items.reduce((e,t)=>e+t.quantity*t.unitPrice,0),a=e.discount?"percentage"===(t=e.discount).type?r*t.value/100:t.value:0;return{lineItems:s,subtotal:r,discountAmount:a,total:Math.max(0,r-a)}})({items:v.map(e=>({serviceId:e.serviceId,serviceName:e.serviceName,quantity:e.quantity,unitPrice:e.unitPrice})),discount:C&&C.value>0?{type:C.type,value:C.value}:void 0}),[v,C]),V=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),T=(0,a.useCallback)(e=>{f(t=>{let r=new Set(t);if(r.has(e))r.delete(e),N(t=>t.filter(t=>t.serviceId!==e));else{r.add(e);let t=s.find(t=>t.id===e);t&&N(e=>[...e,{serviceId:t.id,serviceName:t.name,quantity:1,unitPrice:t.price}])}return r})},[s]),$=(0,a.useCallback)((e,t)=>{N(s=>s.map(s=>s.serviceId===e?{...s,quantity:t}:s))},[]),F=(0,a.useCallback)(e=>{f(t=>{let s=new Set(t);return s.delete(e),s}),N(t=>t.filter(t=>t.serviceId!==e))},[]),q=async e=>{B(null);let t=await p(e);return t&&y(t),t},z=(0,a.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()+P),e},[P]),E=async e=>{if(e.preventDefault(),!b){B("Please select a customer");return}if(0===v.length)return;let t={customerId:b.id,items:v.map(e=>({serviceId:e.serviceId,serviceName:e.serviceName,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.quantity*e.unitPrice})),subtotal:I.subtotal,discountType:C?.type,discountValue:C?.value,total:I.total,notes:k||void 0,terms:D||void 0,validUntil:z};await h(t)},O=b&&v.length>0&&!g;return(0,r.jsxs)("form",{onSubmit:E,className:"space-y-8",children:[(0,r.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"1."})," Customer"]}),r.jsx(i.CustomerSelector,{customers:t,selectedCustomer:b,onSelect:y,onCreateCustomer:q,isLoading:m,error:L})]}),(0,r.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"2."})," Services"]}),r.jsx(n.ServiceSelector,{services:s,selectedServiceIds:j,onToggleService:T,isLoading:x})]}),v.length>0&&(0,r.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"3."})," Quote Items"]}),r.jsx(l.QuoteItemsList,{items:v,onQuantityChange:$,onRemove:F})]}),(0,r.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-primary/20",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"4."})," Details"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(o.DiscountInput,{discount:C,subtotal:I.subtotal,onChange:w}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Valid for (days)"}),r.jsx(u.Input,{type:"number",min:"1",max:"365",value:P,onChange:e=>A(parseInt(e.target.value)||7)}),(0,r.jsxs)("p",{className:"text-xs text-text-muted mt-1",children:["Expires: ",z.toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(d.TextArea,{label:"Notes (optional)",value:k,onChange:e=>S(e.target.value),placeholder:"Add any notes for the customer...",rows:3}),r.jsx(d.TextArea,{label:"Terms & Conditions",value:D,onChange:e=>Q(e.target.value),placeholder:"Payment terms, delivery conditions, etc.",rows:3})]})]})]}),(0,r.jsxs)("section",{className:"bg-surface rounded-xl p-6 border border-accent/30",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"\uD83D\uDC80"})," Quote Summary"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-text-secondary",children:[(0,r.jsxs)("span",{children:["Subtotal (",v.length," items)"]}),r.jsx("span",{children:V(I.subtotal)})]}),I.discountAmount>0&&(0,r.jsxs)("div",{className:"flex justify-between text-accent",children:[(0,r.jsxs)("span",{children:["Discount",C?.type==="percentage"&&` (${C.value}%)`]}),(0,r.jsxs)("span",{children:["-",V(I.discountAmount)]})]}),r.jsx("div",{className:"border-t border-primary/20 pt-3",children:(0,r.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[r.jsx("span",{className:"text-text-primary",children:"Total"}),r.jsx("span",{className:"text-accent",children:V(I.total)})]})})]}),r.jsx("div",{className:"mt-6 flex gap-4",children:r.jsx(c.Button,{type:"submit",variant:"primary",size:"lg",disabled:!O,isLoading:g,className:"flex-1",children:"\uD83C\uDF83 Generate Quote"})}),!b&&v.length>0&&r.jsx("p",{className:"text-sm text-red-400 mt-2 text-center",children:"Please select a customer to generate the quote"}),b&&0===v.length&&r.jsx("p",{className:"text-sm text-text-muted mt-2 text-center",children:"Select at least one service to generate the quote"})]})]})}},36351:(e,t,s)=>{"use strict";s.d(t,{QuoteItemRow:()=>i,QuoteItemsList:()=>n});var r=s(3109);s(70371);var a=s(52834);let i=({item:e,onQuantityChange:t,onRemove:s})=>{let i=e.quantity*e.unitPrice,n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-surface/30 rounded-lg border border-primary/10",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-text-primary truncate",children:e.serviceName}),(0,r.jsxs)("p",{className:"text-sm text-text-secondary",children:[n(e.unitPrice)," each"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{e.quantity>1&&t(e.serviceId,e.quantity-1)},disabled:e.quantity<=1,className:"w-8 h-8 p-0",children:"−"}),r.jsx("input",{type:"number",min:"1",value:e.quantity,onChange:s=>{let r=parseInt(s.target.value,10);!isNaN(r)&&r>=1&&t(e.serviceId,r)},className:"w-12 h-8 text-center bg-background border border-primary/20 rounded text-text-primary text-sm focus:outline-none focus:border-primary"}),r.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{t(e.serviceId,e.quantity+1)},className:"w-8 h-8 p-0",children:"+"})]}),r.jsx("div",{className:"w-24 text-right",children:r.jsx("p",{className:"font-semibold text-accent",children:n(i)})}),r.jsx(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(e.serviceId),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:"✕"})]})},n=({items:e,onQuantityChange:t,onRemove:s})=>0===e.length?(0,r.jsxs)("div",{className:"p-6 text-center text-text-secondary border border-dashed border-primary/20 rounded-lg",children:[r.jsx("p",{children:"No services selected yet."}),r.jsx("p",{className:"text-sm mt-1",children:"Select services above to add them to the quote."})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-text-muted uppercase tracking-wider px-3",children:[r.jsx("span",{children:"Service"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"w-24 text-center",children:"Qty"}),r.jsx("span",{className:"w-24 text-right",children:"Total"}),r.jsx("span",{className:"w-8"})]})]}),e.map(e=>r.jsx(i,{item:e,onQuantityChange:t,onRemove:s},e.serviceId))]})},46495:(e,t,s)=>{"use strict";s.d(t,{QuotePDF:()=>n,useQuotePDF:()=>i});var r=s(3109),a=s(70371);let i=(e,t)=>{let r=(0,a.useRef)(null),[i,n]=(0,a.useState)(!1),l=(0,a.useCallback)(async()=>{if(r.current&&!i){n(!0);try{let a=(await s.e(564).then(s.t.bind(s,33564,23))).default,i=r.current,n=`${e.quoteNumber}-${t.name.replace(/\s+/g,"-")}.pdf`;await a().set({margin:0,filename:n,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(i).save()}catch(e){throw console.error("Error generating PDF:",e),e}finally{n(!1)}}},[e.quoteNumber,t.name,i]);return{containerRef:r,downloadPDF:l,isGenerating:i}},n=({quote:e,business:t,customer:s,items:a})=>{let i=s||e.customer,n=a||e.items||[],l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",c=e.discountType&&e.discountValue&&e.discountValue>0,d=c?"percentage"===e.discountType?e.subtotal*e.discountValue/100:e.discountValue:0;return(0,r.jsxs)("div",{style:{width:"210mm",minHeight:"297mm",backgroundColor:"white",color:"#1f2937",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"12px",lineHeight:"1.5"},children:[r.jsx("div",{style:{background:"linear-gradient(to right, #581c87, #7c3aed)",padding:"24px",color:"white"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[t.logoUrl?r.jsx("img",{src:t.logoUrl,alt:`${t.name} logo`,style:{width:"64px",height:"64px",objectFit:"contain",backgroundColor:"white",borderRadius:"8px",padding:"4px"}}):r.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"\uD83C\uDF83"}),(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:t.name}),t.email&&r.jsx("p",{style:{color:"#e9d5ff",fontSize:"12px",margin:"4px 0 0 0"},children:t.email}),t.phone&&r.jsx("p",{style:{color:"#e9d5ff",fontSize:"12px",margin:"2px 0 0 0"},children:t.phone})]})]}),r.jsx("div",{style:{textAlign:"right"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"9999px",fontSize:"12px",fontWeight:"500",textTransform:"capitalize"},children:e.status})})]})}),r.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Quote Details"}),(0,r.jsxs)("div",{style:{fontSize:"12px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{color:"#6b7280"},children:"Quote Number:"}),r.jsx("span",{style:{fontWeight:"500"},children:e.quoteNumber})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{color:"#6b7280"},children:"Date:"}),r.jsx("span",{style:{fontWeight:"500"},children:o(e.createdAt)})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{color:"#6b7280"},children:"Valid Until:"}),r.jsx("span",{style:{fontWeight:"500",color:"#ea580c"},children:o(e.validUntil)})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Bill To"}),i?(0,r.jsxs)("div",{style:{fontSize:"12px"},children:[r.jsx("p",{style:{fontWeight:"500",color:"#111827",margin:"0 0 4px 0"},children:i.name}),r.jsx("p",{style:{color:"#6b7280",margin:"0 0 2px 0"},children:i.phone}),i.email&&r.jsx("p",{style:{color:"#6b7280",margin:"0 0 2px 0"},children:i.email}),i.address&&r.jsx("p",{style:{color:"#6b7280",margin:0},children:i.address})]}):r.jsx("p",{style:{color:"#9ca3af",fontSize:"12px"},children:"Customer details not available"})]})]})}),(0,r.jsxs)("div",{style:{padding:"24px"},children:[r.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Services"}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{borderBottom:"2px solid #e5e7eb"},children:[r.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Service"}),r.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Qty"}),r.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Unit Price"}),r.jsx("th",{style:{textAlign:"right",padding:"12px 8px",fontWeight:"600",color:"#374151"},children:"Total"})]})}),r.jsx("tbody",{children:n.map((e,t)=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[r.jsx("td",{style:{padding:"12px 8px",color:"#111827"},children:e.serviceName}),r.jsx("td",{style:{padding:"12px 8px",textAlign:"center",color:"#6b7280"},children:e.quantity}),r.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#6b7280"},children:l(e.unitPrice)}),r.jsx("td",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"500",color:"#111827"},children:l(e.totalPrice)})]},e.id||t))})]}),r.jsx("div",{style:{marginTop:"24px",borderTop:"1px solid #e5e7eb",paddingTop:"16px"},children:r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:(0,r.jsxs)("div",{style:{width:"200px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px"},children:[r.jsx("span",{style:{color:"#6b7280"},children:"Subtotal:"}),r.jsx("span",{style:{fontWeight:"500"},children:l(e.subtotal)})]}),c&&(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"12px",color:"#16a34a"},children:[(0,r.jsxs)("span",{children:["Discount","percentage"===e.discountType&&` (${e.discountValue}%)`,":"]}),(0,r.jsxs)("span",{children:["-",l(d)]})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"16px",fontWeight:"bold",borderTop:"2px solid #d1d5db",paddingTop:"8px",marginTop:"8px"},children:[r.jsx("span",{style:{color:"#111827"},children:"Total:"}),r.jsx("span",{style:{color:"#7c3aed"},children:l(e.total)})]})]})})})]}),(e.terms||e.notes)&&(0,r.jsxs)("div",{style:{padding:"0 24px 24px 24px"},children:[e.notes&&(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[r.jsx("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Notes"}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",whiteSpace:"pre-wrap",backgroundColor:"#f9fafb",padding:"12px",borderRadius:"8px",margin:0},children:e.notes})]}),e.terms&&(0,r.jsxs)("div",{children:[r.jsx("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Terms & Conditions"}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",whiteSpace:"pre-wrap",backgroundColor:"#f9fafb",padding:"12px",borderRadius:"8px",margin:0},children:e.terms})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#581c87",color:"#e9d5ff",textAlign:"center",padding:"12px",fontSize:"10px",marginTop:"auto"},children:[r.jsx("p",{style:{margin:0},children:"Thank you for your business! \uD83C\uDF83"}),t.address&&r.jsx("p",{style:{margin:"4px 0 0 0"},children:t.address})]})]})}},20898:(e,t,s)=>{"use strict";s.d(t,{QuotePreview:()=>i});var r=s(3109);s(70371);var a=s(9916);let i=({quote:e,business:t,customer:s,items:i,showActions:n=!0,onDownloadPDF:l,onShareWhatsApp:o,isDownloading:c=!1})=>{let d=s||e.customer,u=i||e.items||[],m=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),x=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",p=e.subtotal-e.total+(e.discountValue||0),h=e.discountType&&e.discountValue&&e.discountValue>0;return(0,r.jsxs)("div",{className:"bg-white text-gray-900 rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-purple-700 p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[t.logoUrl?r.jsx("img",{src:t.logoUrl,alt:`${t.name} logo`,className:"w-16 h-16 object-contain bg-white rounded-lg p-1"}):r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83C\uDF83"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:t.name}),t.email&&r.jsx("p",{className:"text-purple-200 text-sm",children:t.email}),t.phone&&r.jsx("p",{className:"text-purple-200 text-sm",children:t.phone})]})]}),r.jsx("div",{className:"text-right",children:r.jsx(a.Badge,{variant:(0,a.getQuoteStatusVariant)(e.status),size:"md",children:(0,a.formatQuoteStatus)(e.status)})})]})}),r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quote Details"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Quote Number:"}),r.jsx("span",{className:"font-medium",children:e.quoteNumber})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Date:"}),r.jsx("span",{className:"font-medium",children:x(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Valid Until:"}),r.jsx("span",{className:"font-medium text-orange-600",children:x(e.validUntil)})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bill To"}),d?(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[r.jsx("p",{className:"font-medium text-gray-900",children:d.name}),r.jsx("p",{className:"text-gray-600",children:d.phone}),d.email&&r.jsx("p",{className:"text-gray-600",children:d.email}),d.address&&r.jsx("p",{className:"text-gray-600",children:d.address})]}):r.jsx("p",{className:"text-gray-500 text-sm",children:"Customer details not available"})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Services"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Service"}),r.jsx("th",{className:"text-center py-3 px-2 font-semibold text-gray-700",children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-2 font-semibold text-gray-700",children:"Unit Price"}),r.jsx("th",{className:"text-right py-3 px-2 font-semibold text-gray-700",children:"Total"})]})}),(0,r.jsxs)("tbody",{children:[u.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-2 text-gray-900",children:e.serviceName}),r.jsx("td",{className:"py-3 px-2 text-center text-gray-600",children:e.quantity}),r.jsx("td",{className:"py-3 px-2 text-right text-gray-600",children:m(e.unitPrice)}),r.jsx("td",{className:"py-3 px-2 text-right font-medium text-gray-900",children:m(e.totalPrice)})]},e.id||t)),0===u.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-6 text-center text-gray-500",children:"No items in this quote"})})]})]})}),r.jsx("div",{className:"mt-6 border-t border-gray-200 pt-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"font-medium",children:m(e.subtotal)})]}),h&&(0,r.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-sm text-green-600",children:[(0,r.jsxs)("span",{children:["Discount","percentage"===e.discountType&&` (${e.discountValue}%)`,":"]}),(0,r.jsxs)("span",{children:["-",m(p)]})]}),(0,r.jsxs)("div",{className:"flex justify-between w-full max-w-xs text-lg font-bold border-t border-gray-300 pt-2 mt-2",children:[r.jsx("span",{className:"text-gray-900",children:"Total:"}),r.jsx("span",{className:"text-purple-700",children:m(e.total)})]})]})})]}),(e.terms||e.notes)&&(0,r.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[e.notes&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 p-3 rounded-lg",children:e.notes})]}),e.terms&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Terms & Conditions"}),r.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 p-3 rounded-lg",children:e.terms})]})]}),n&&(l||o)&&r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 justify-end",children:[l&&r.jsx("button",{onClick:l,disabled:c,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"⏳"}),"Generating..."]}):r.jsx(r.Fragment,{children:"\uD83D\uDCC4 Download PDF"})}),o&&r.jsx("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"\uD83D\uDCAC Share on WhatsApp"})]})}),(0,r.jsxs)("div",{className:"bg-purple-900 text-purple-200 text-center py-3 text-xs",children:[r.jsx("p",{children:"Thank you for your business! \uD83C\uDF83"}),t.address&&r.jsx("p",{className:"mt-1",children:t.address})]})]})}},87473:(e,t,s)=>{"use strict";s.d(t,{QuoteShare:()=>c});var r=s(3109),a=s(70371);let i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),n=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";async function l(e){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();let s=document.execCommand("copy");return document.body.removeChild(t),s}}catch{return!1}}var o=s(94946);let c=({quote:e,business:t,customer:s,baseUrl:c="",className:d=""})=>{let{addToast:u}=(0,o.useToast)(),[m,x]=(0,a.useState)(!1),p=function(e,t){let s=t.replace(/\/$/,"");return`${s}/quotes/${e}`}(e.id,c),h=(0,a.useCallback)(()=>{let r=s||e.customer,a=function(e,t){let s=encodeURIComponent(e);if(t){let e=t.replace(/[\s\-\(\)]/g,"");return`https://wa.me/${e}?text=${s}`}return`https://wa.me/?text=${s}`}(function(e){let{quote:t,business:s,customer:r,quoteLink:a}=e,l=r||t.customer,o=l?.name||"Valued Customer";return`🎃 *Quote from ${s.name}* 🎃

Hi ${o}! 👋

Here's your quote details:

📋 *Quote Number:* ${t.quoteNumber}
📅 *Date:* ${n(t.createdAt)}
⏰ *Valid Until:* ${n(t.validUntil)}

💰 *Total Amount:* ${i(t.total)}

🔗 *View Full Quote:*
${a}

Thank you for your interest! Feel free to reach out if you have any questions. 🙏

_Sent via QuickQuote_ 👻`}({quote:e,business:t,customer:r,quoteLink:p}),r?.phone);window.open(a,"_blank","noopener,noreferrer"),u("success","\uD83C\uDF83 Opening WhatsApp... Spooky quote on its way!")},[e,t,s,p,u]),g=(0,a.useCallback)(async()=>{x(!0);try{await l(p)?u("success","\uD83D\uDC7B Link copied to clipboard!"):u("error","\uD83D\uDE31 Failed to copy link. Please try again.")}catch{u("error","\uD83D\uDE31 Failed to copy link. Please try again.")}finally{x(!1)}},[p,u]);return(0,r.jsxs)("div",{className:`flex flex-wrap gap-3 ${d}`,children:[(0,r.jsxs)("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Share quote on WhatsApp",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Share on WhatsApp"]}),r.jsx("button",{onClick:g,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Copy quote link to clipboard",children:m?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"⏳"}),"Copying..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy Link"]})})]})}},50411:(e,t,s)=>{"use strict";s.d(t,{ServiceSelector:()=>n});var r=s(3109),a=s(70371),i=s(52534);let n=({services:e,selectedServiceIds:t,onToggleService:s,isLoading:n=!1})=>{let l=(0,a.useMemo)(()=>{let t=new Map;e.filter(e=>e.isActive).forEach(e=>{let s=e.category||"Uncategorized",r=t.get(s)||[];t.set(s,[...r,e])});let s=Array.from(t.keys()).sort((e,t)=>"Uncategorized"===e?1:"Uncategorized"===t?-1:e.localeCompare(t));return{grouped:t,sortedCategories:s}},[e]),o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return n?(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),r.jsx("div",{className:"p-8 text-center text-text-secondary border border-primary/20 rounded-lg",children:r.jsx("span",{className:"animate-pulse",children:"\uD83C\uDF83 Loading services..."})})]}):0===e.length?(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),(0,r.jsxs)("div",{className:"p-8 text-center text-text-secondary border border-primary/20 rounded-lg",children:[r.jsx("p",{children:"No services available."}),r.jsx("p",{className:"text-sm mt-1",children:"Add services in the Services page first."})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary",children:"Select Services"}),(0,r.jsxs)("span",{className:"text-sm text-text-secondary",children:[t.size," selected"]})]}),r.jsx("div",{className:"border border-primary/20 rounded-lg divide-y divide-primary/10 max-h-80 overflow-y-auto",children:l.sortedCategories.map(e=>{let a=l.grouped.get(e)||[];return(0,r.jsxs)("div",{className:"p-3",children:[r.jsx("h4",{className:"text-xs font-semibold text-accent uppercase tracking-wider mb-2",children:e}),r.jsx("div",{className:"space-y-2",children:a.map(e=>{let a=t.has(e.id);return(0,r.jsxs)("label",{className:`
                        flex items-center justify-between p-2 rounded-lg cursor-pointer
                        transition-colors
                        ${a?"bg-primary/20 border border-primary/40":"hover:bg-surface/50 border border-transparent"}
                      `,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(i.Checkbox,{checked:a,onChange:()=>s(e.id)}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-text-primary text-sm",children:e.name}),e.description&&r.jsx("p",{className:"text-xs text-text-muted truncate max-w-xs",children:e.description})]})]}),r.jsx("span",{className:"text-sm font-medium text-accent",children:o(e.price)})]},e.id)})})]},e)})})]})}},40658:(e,t,s)=>{"use strict";s.d(t,{QuoteList:()=>d});var r=s(3109),a=s(70371),i=s(9916),n=s(52834),l=s(45733),o=s(69524);let c=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Accepted",value:"accepted"},{label:"Rejected",value:"rejected"},{label:"Expired",value:"expired"}],d=({quotes:e,loading:t,error:s,onViewQuote:d,onDuplicateQuote:u,onUpdateStatus:m,onRefetch:x,duplicateLoading:p=!1,statusUpdateLoading:h=!1})=>{let[g,b]=(0,a.useState)("all"),[y,j]=(0,a.useState)(""),[f,v]=(0,a.useState)(null),N=(0,a.useMemo)(()=>{let t=e;if("all"!==g&&(t=t.filter(e=>e.status===g)),y.trim()){let e=y.toLowerCase().trim();t=t.filter(t=>t.quoteNumber.toLowerCase().includes(e)||t.customer?.name.toLowerCase().includes(e))}return t},[e,g,y]),C=async(e,t)=>{if(m){v(e);try{await m(e,t)}finally{v(null)}}},w=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(o.LoadingSpinner,{size:"lg"})}):s?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsxs)("p",{className:"text-red-400 mb-4",children:["\uD83D\uDC7B ",s.message]}),x&&r.jsx(n.Button,{variant:"secondary",onClick:x,children:"Try Again"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:r.jsx("h2",{className:"text-2xl font-bold text-halloween-green",children:"\uD83D\uDCDC Your Quotes"})}),r.jsx("div",{className:"max-w-md",children:r.jsx(l.Input,{placeholder:"Search by customer name or quote number...",value:y,onChange:e=>j(e.target.value),className:"w-full"})}),r.jsx("div",{className:"flex flex-wrap gap-2 border-b border-halloween-purple/20 pb-4",children:c.map(t=>(0,r.jsxs)("button",{onClick:()=>b(t.value),className:`
              px-4 py-2 rounded-lg font-medium transition-all
              ${g===t.value?"bg-halloween-purple text-white":"bg-surface text-text-muted hover:bg-halloween-purple/20"}
            `,children:[t.label,"all"!==t.value&&(0,r.jsxs)("span",{className:"ml-2 text-xs opacity-70",children:["(",e.filter(e=>e.status===t.value).length,")"]})]},t.value))}),0===N.length?(0,r.jsxs)("div",{className:"text-center py-12 text-text-muted",children:[r.jsx("p",{className:"text-4xl mb-4",children:"\uD83E\uDD87"}),r.jsx("p",{children:"No quotes found. Time to conjure some new ones!"})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-halloween-purple/20",children:[r.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Quote #"}),r.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Customer"}),r.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4 text-text-muted font-medium",children:"Status"}),r.jsx("th",{className:"text-right py-3 px-4 text-text-muted font-medium",children:"Total"}),r.jsx("th",{className:"text-right py-3 px-4 text-text-muted font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:N.map(e=>(0,r.jsxs)("tr",{className:"border-b border-halloween-purple/10 hover:bg-halloween-purple/5 transition-colors",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"font-mono text-halloween-orange",children:e.quoteNumber})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-text",children:e.customer?.name||"Unknown Customer"})}),r.jsx("td",{className:"py-4 px-4 text-text-muted",children:w(e.createdAt)}),r.jsx("td",{className:"py-4 px-4",children:r.jsx(i.Badge,{variant:(0,i.getQuoteStatusVariant)(e.status),children:(0,i.formatQuoteStatus)(e.status)})}),r.jsx("td",{className:"py-4 px-4 text-right font-semibold text-halloween-green",children:k(e.total)}),r.jsx("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[d&&r.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>d(e),children:"View"}),u&&r.jsx(n.Button,{variant:"ghost",size:"sm",onClick:()=>u(e),disabled:p,children:"Duplicate"}),m&&"expired"!==e.status&&(0,r.jsxs)("select",{value:e.status,onChange:t=>C(e.id,t.target.value),disabled:h&&f===e.id,className:" bg-surface border border-halloween-purple/30 rounded-lg px-2 py-1 text-sm text-text focus:outline-none focus:ring-2 focus:ring-halloween-purple/50 disabled:opacity-50 ",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})})]},e.id))})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-halloween-purple/20 text-text-muted text-sm",children:[(0,r.jsxs)("span",{children:["Showing ",N.length," of ",e.length," quotes"]}),"all"!==g&&r.jsx("button",{onClick:()=>b("all"),className:"text-halloween-purple hover:underline",children:"Clear filter"})]})]})}},80444:(e,t,s)=>{"use strict";s.d(t,{ServiceCard:()=>i});var r=s(3109);s(70371);var a=s(9916);let i=({service:e,onEdit:t,onDelete:s})=>{let i;return r.jsx("div",{className:"bg-surface border border-primary/20 rounded-lg p-4 hover:border-primary/40 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-text-primary font-medium truncate",children:e.name}),!e.isActive&&r.jsx(a.Badge,{variant:"warning",size:"sm",children:"Inactive"})]}),e.description&&r.jsx("p",{className:"text-text-muted text-sm line-clamp-2 mb-2",children:e.description}),r.jsx("p",{className:"text-accent font-semibold text-lg",children:(i=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-lg hover:bg-primary/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Edit ${e.name}`,children:r.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>s(e),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Delete ${e.name}`,children:r.jsx("svg",{className:"w-5 h-5 text-text-muted hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})}},65706:(e,t,s)=>{"use strict";s.d(t,{ServiceForm:()=>d});var r=s(3109),a=s(70371),i=s(52834),n=s(45733),l=s(43121),o=s(74730),c=s(69656);let d=({service:e,onSubmit:t,onCancel:s,isLoading:d=!1})=>{let[u,m]=(0,a.useState)({name:"",description:"",price:0,category:""}),[x,p]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&m({name:e.name,description:e.description||"",price:e.price,category:e.category||""})},[e]);let h=e=>{let{name:t,value:s}=e.target;m(e=>({...e,[t]:"price"===t?parseFloat(s)||0:s})),x[t]&&p(e=>({...e,[t]:""}))},g=async e=>{e.preventDefault();let s=function(e){try{return c.a6.parse(e),{success:!0,errors:{}}}catch(e){if(e instanceof o.jm){let t={};return e.errors.forEach(e=>{t[e.path.join(".")]=e.message}),{success:!1,errors:t}}return{success:!1,errors:{_form:"Validation failed"}}}}(u);if(!s.success){p(s.errors);return}try{await t(u)}catch(e){p({_form:e instanceof Error?e.message:"Failed to save service"})}};return(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[x._form&&r.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:x._form}),r.jsx(n.Input,{label:"Service Name",name:"name",value:u.name,onChange:h,error:x.name,placeholder:"e.g., Basic Website Design",required:!0}),r.jsx(l.TextArea,{label:"Description",name:"description",value:u.description||"",onChange:h,error:x.description,placeholder:"Describe what this service includes...",rows:3}),r.jsx(n.Input,{label:"Price",name:"price",type:"number",step:"0.01",min:"0.01",value:u.price||"",onChange:h,error:x.price,placeholder:"0.00",required:!0}),r.jsx(n.Input,{label:"Category",name:"category",value:u.category||"",onChange:h,error:x.category,placeholder:"e.g., Web Design, Photography"}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx(i.Button,{type:"button",variant:"secondary",onClick:s,disabled:d,children:"Cancel"}),r.jsx(i.Button,{type:"submit",variant:"primary",isLoading:d,className:"flex-1",children:e?"Update Service":"Add Service"})]})]})}},59839:(e,t,s)=>{"use strict";s.d(t,{ServiceList:()=>u});var r=s(3109),a=s(70371),i=s.n(a),n=s(80444),l=s(65706),o=s(97393),c=s(52834),d=s(69524);let u=({services:e,loading:t,error:s,onCreateService:u,onUpdateService:m,onDeleteService:x,onRefetch:p,createLoading:h=!1,updateLoading:g=!1,deleteLoading:b=!1})=>{let[y,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[N,C]=(0,a.useState)(null),w=i().useMemo(()=>{let t=new Map;return e.filter(e=>e.isActive).forEach(e=>{let s=e.category||"Uncategorized",r=t.get(s)||[];t.set(s,[...r,e])}),new Map(Array.from(t.entries()).sort((e,t)=>"Uncategorized"===e[0]?1:"Uncategorized"===t[0]?-1:e[0].localeCompare(t[0])))},[e]),k=async e=>{await u(e)&&(j(!1),await p())},S=async e=>{f&&await m(f.id,e)&&(v(null),await p())},D=async()=>{N&&await x(N.id)&&(C(null),await p())};return t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(d.LoadingSpinner,{customMessage:"Summoning your services..."})}):s?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 mb-4",children:"Something spooky happened! \uD83D\uDC7B"}),r.jsx("p",{className:"text-text-muted mb-4",children:s.message}),r.jsx(c.Button,{variant:"secondary",onClick:p,children:"Try Again"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Services"}),r.jsx("p",{className:"text-text-muted text-sm",children:"Manage your service offerings and prices"})]}),r.jsx(c.Button,{variant:"primary",onClick:()=>j(!0),children:"+ Add Service"})]}),0===w.size?(0,r.jsxs)("div",{className:"text-center py-12 bg-surface border border-primary/20 rounded-lg",children:[r.jsx("p",{className:"text-text-muted mb-4",children:"No services yet. Add your first service to get started!"}),r.jsx(c.Button,{variant:"primary",onClick:()=>j(!0),children:"+ Add Your First Service"})]}):r.jsx("div",{className:"space-y-8",children:Array.from(w.entries()).map(([e,t])=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-text-primary mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-accent",children:"\uD83C\uDF83"}),e,(0,r.jsxs)("span",{className:"text-text-muted text-sm font-normal",children:["(",t.length,")"]})]}),r.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>r.jsx(n.ServiceCard,{service:e,onEdit:v,onDelete:C},e.id))})]},e))}),r.jsx(o.Modal,{isOpen:y,onClose:()=>j(!1),title:"Add New Service",size:"md",children:r.jsx(l.ServiceForm,{onSubmit:k,onCancel:()=>j(!1),isLoading:h})}),r.jsx(o.Modal,{isOpen:!!f,onClose:()=>v(null),title:"Edit Service",size:"md",children:r.jsx(l.ServiceForm,{service:f,onSubmit:S,onCancel:()=>v(null),isLoading:g})}),r.jsx(o.Modal,{isOpen:!!N,onClose:()=>C(null),title:"Delete Service",size:"sm",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("p",{className:"text-text-primary",children:["Are you sure you want to delete"," ",r.jsx("span",{className:"font-semibold",children:N?.name}),"?"]}),r.jsx("p",{className:"text-text-muted text-sm",children:"This service will be hidden from future quotes but preserved in existing quotes."}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[r.jsx(c.Button,{variant:"secondary",onClick:()=>C(null),disabled:b,children:"Cancel"}),r.jsx(c.Button,{variant:"primary",onClick:D,isLoading:b,className:"bg-red-600 hover:bg-red-700",children:"Delete Service"})]})]})})]})}},88909:(e,t,s)=>{"use strict";s.d(t,{SettingsPage:()=>p});var r=s(3109),a=s(70371),i=s(52834),n=s(45733),l=s(43121),o=s(71619),c=s(12259),d=s(59839),u=s(69656),m=s(74730);let x=[{id:"business",label:"Business Profile",icon:"\uD83C\uDFE2"},{id:"services",label:"Services",icon:"\uD83D\uDCCB"},{id:"defaults",label:"Quote Defaults",icon:"⚙️"}],p=({business:e,onUpdateBusiness:t,onUploadLogo:s,businessLoading:p=!1,businessError:h,serviceListProps:g})=>{let[b,y]=(0,a.useState)("business"),[j,f]=(0,a.useState)({name:e.name,phone:e.phone||"",email:e.email||"",address:e.address||"",defaultTerms:e.defaultTerms||"",defaultValidityDays:e.defaultValidityDays}),[v,N]=(0,a.useState)(null),[C,w]=(0,a.useState)(e.logoUrl||null),[k,S]=(0,a.useState)({}),[D,Q]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),L=(0,a.useCallback)((e,t)=>{f(s=>({...s,[e]:t})),Q(!1),k[e]&&S(t=>({...t,[e]:void 0}))},[k]),B=(0,a.useCallback)(()=>{let e={};return j.name.trim()||(e.name="Business name is required"),j.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)&&(e.email="Invalid email format"),(j.defaultValidityDays<1||j.defaultValidityDays>365)&&(e.defaultValidityDays="Validity must be between 1 and 365 days"),S(e),0===Object.keys(e).length},[j]),I=(0,a.useCallback)(e=>{N(e),Q(!1);let t=new FileReader;t.onloadend=()=>{w(t.result)},t.readAsDataURL(e)},[]),V=(0,a.useCallback)(async()=>{if(B()){A(!0);try{let e=u.l6.parse(j);v&&(await s(v),N(null)),await t(e)&&(Q(!0),setTimeout(()=>Q(!1),3e3))}catch(e){if(e instanceof m.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),S(t)}}finally{A(!1)}}},[j,v,t,s,B]),T=(0,a.useCallback)(async()=>{if(B()){A(!0);try{let e=u.l6.parse(j);await t(e)&&(Q(!0),setTimeout(()=>Q(!1),3e3))}catch(e){if(e instanceof m.jm){let t={};e.errors.forEach(e=>{t[e.path[0]]=e.message}),S(t)}}finally{A(!1)}}},[j,t,B]);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Settings"}),r.jsx("p",{className:"text-text-muted",children:"Manage your business profile and preferences"})]}),r.jsx("div",{className:"flex gap-2 p-1 bg-surface rounded-xl border border-primary/20",children:x.map(e=>(0,r.jsxs)("button",{onClick:()=>y(e.id),className:`
        flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-lg transition-all
        ${b===e.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-text-muted hover:text-text-primary hover:bg-surface"}
      `,children:[r.jsx("span",{children:e.icon}),r.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),(0,r.jsxs)("div",{children:["business"===b&&r.jsx(c.Card,{variant:"elevated",padding:"lg",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:"Business Profile"}),r.jsx("p",{className:"text-text-muted text-sm",children:"Update your business information that appears on quotes"})]}),h&&r.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:h.message}),D&&r.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400 text-sm",children:"✓ Changes saved successfully!"}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(n.Input,{label:"Business Name *",placeholder:"Enter your business name",value:j.name,onChange:e=>L("name",e.target.value),error:k.name}),r.jsx(n.Input,{label:"Phone Number",placeholder:"Enter your phone number",type:"tel",value:j.phone||"",onChange:e=>L("phone",e.target.value),error:k.phone})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(n.Input,{label:"Email Address",placeholder:"Enter your email",type:"email",value:j.email||"",onChange:e=>L("email",e.target.value),error:k.email}),r.jsx("div",{className:"sm:col-span-2",children:r.jsx(l.TextArea,{label:"Business Address",placeholder:"Enter your business address",value:j.address||"",onChange:e=>L("address",e.target.value),rows:2})})]}),r.jsx("div",{children:r.jsx(o.FileUpload,{label:"Business Logo",accept:"image/png,image/jpeg,image/jpg",maxSize:2097152,onFileSelect:I,preview:C,hint:"PNG or JPG, max 2MB"})}),r.jsx("div",{className:"flex justify-end pt-4 border-t border-primary/10",children:r.jsx(i.Button,{onClick:V,isLoading:P||p,children:"Save Changes"})})]})}),"services"===b&&r.jsx(c.Card,{variant:"elevated",padding:"lg",children:r.jsx(d.ServiceList,{...g,onRefetch:g.onRefetch})}),"defaults"===b&&r.jsx(c.Card,{variant:"elevated",padding:"lg",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:"Default Quote Settings"}),r.jsx("p",{className:"text-text-muted text-sm",children:"Configure default values for new quotes"})]}),D&&r.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400 text-sm",children:"✓ Changes saved successfully!"}),r.jsx(l.TextArea,{label:"Default Terms & Conditions",placeholder:"Enter your standard terms and conditions...",value:j.defaultTerms||"",onChange:e=>L("defaultTerms",e.target.value),rows:6,hint:"These will be pre-filled on new quotes"}),r.jsx(n.Input,{label:"Default Quote Validity (days)",type:"number",min:1,max:365,value:j.defaultValidityDays,onChange:e=>L("defaultValidityDays",parseInt(e.target.value)||7),error:k.defaultValidityDays,hint:"How long quotes are valid by default (1-365 days)"}),r.jsx("div",{className:"flex justify-end pt-4 border-t border-primary/10",children:r.jsx(i.Button,{onClick:T,isLoading:P||p,children:"Save Defaults"})})]})})]})]})}},52834:(e,t,s)=>{"use strict";s.d(t,{Button:()=>l});var r=s(3109),a=s(70371);let i={primary:"bg-primary text-white hover:bg-primary/90 focus:ring-primary/50 shadow-lg shadow-primary/25",secondary:"bg-surface text-text-primary border border-primary/30 hover:bg-primary/10 focus:ring-primary/30",ghost:"bg-transparent text-text-primary hover:bg-surface focus:ring-primary/20"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},l=(0,a.forwardRef)(({variant:e="primary",size:t="md",isLoading:s=!1,disabled:a,className:l="",children:o,...c},d)=>r.jsx("button",{ref:d,disabled:a||s,className:`inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed min-w-[44px] min-h-[44px] ${i[e]} ${n[t]} ${l}`,...c,children:s?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Loading..."})]}):o}));l.displayName="Button"},12259:(e,t,s)=>{"use strict";s.d(t,{Card:()=>n,CardContent:()=>c,CardFooter:()=>d,CardHeader:()=>l,CardTitle:()=>o});var r=s(3109);s(70371);let a={default:"bg-surface border border-primary/20",elevated:"bg-surface shadow-lg shadow-primary/10",outlined:"bg-transparent border-2 border-primary/30"},i={none:"",sm:"p-3",md:"p-4",lg:"p-6"},n=({variant:e="default",padding:t="md",className:s="",children:n,...l})=>r.jsx("div",{className:`rounded-xl transition-all duration-200 ${a[e]} ${i[t]} ${s}`,...l,children:n}),l=({className:e="",children:t,...s})=>r.jsx("div",{className:`mb-4 ${e}`,...s,children:t}),o=({className:e="",children:t,...s})=>r.jsx("h3",{className:`text-lg font-semibold text-text-primary ${e}`,...s,children:t}),c=({className:e="",children:t,...s})=>r.jsx("div",{className:`text-text-muted ${e}`,...s,children:t}),d=({className:e="",children:t,...s})=>r.jsx("div",{className:`mt-4 pt-4 border-t border-primary/10 ${e}`,...s,children:t})},52534:(e,t,s)=>{"use strict";s.d(t,{Checkbox:()=>a});var r=s(3109);let a=(0,s(70371).forwardRef)(({label:e,error:t,className:s="",id:a,...i},n)=>{let l=a||e?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("label",{htmlFor:l,className:"flex items-center gap-3 cursor-pointer min-h-[44px]",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{ref:n,type:"checkbox",id:l,className:`peer w-5 h-5 bg-surface border border-primary/30 rounded appearance-none cursor-pointer transition-all duration-200 checked:bg-primary checked:border-primary focus:outline-none focus:ring-2 focus:ring-primary/50 ${s}`,"aria-invalid":!!t,...i}),r.jsx("svg",{className:"absolute top-0.5 left-0.5 w-4 h-4 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),e&&r.jsx("span",{className:"text-sm text-text-primary select-none",children:e})]}),t&&r.jsx("span",{className:"text-sm text-red-500 ml-8",role:"alert",children:t})]})});a.displayName="Checkbox"},71619:(e,t,s)=>{"use strict";s.d(t,{FileUpload:()=>i});var r=s(3109),a=s(70371);let i=({label:e,accept:t="image/png,image/jpeg,image/jpg",maxSize:s=2097152,error:i,hint:n,onFileSelect:l,preview:o,disabled:c=!1})=>{let d=(0,a.useRef)(null),[u,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),h=(0,a.useCallback)(e=>{if(!t.split(",").map(e=>e.trim()).includes(e.type))return"Invalid file type. Please upload PNG or JPG.";if(e.size>s){let e=Math.round(s/1048576);return`File too large. Maximum size is ${e}MB.`}return null},[t,s]),g=(0,a.useCallback)(e=>{let t=h(e);if(t){p(t);return}p(null),l(e)},[h,l]),b=(0,a.useCallback)(e=>{if(e.preventDefault(),m(!1),c)return;let t=e.dataTransfer.files[0];t&&g(t)},[c,g]),y=(0,a.useCallback)(e=>{e.preventDefault(),c||m(!0)},[c]),j=(0,a.useCallback)(()=>{m(!1)},[]),f=i||x;return(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&r.jsx("label",{className:"text-sm font-medium text-text-primary",children:e}),(0,r.jsxs)("div",{onClick:()=>{c||d.current?.click()},onDrop:b,onDragOver:y,onDragLeave:j,className:`
          relative flex flex-col items-center justify-center
          w-full min-h-[150px] p-4
          border-2 border-dashed rounded-lg
          transition-all duration-200 cursor-pointer
          ${u?"border-primary bg-primary/10":f?"border-red-500 bg-red-500/5":"border-primary/30 hover:border-primary/50 hover:bg-surface"}
          ${c?"opacity-50 cursor-not-allowed":""}
        `,children:[r.jsx("input",{ref:d,type:"file",accept:t,onChange:e=>{let t=e.target.files?.[0];t&&g(t)},disabled:c,className:"hidden"}),o?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("img",{src:o,alt:"Preview",className:"max-h-24 max-w-full object-contain rounded"}),r.jsx("span",{className:"text-sm text-text-muted",children:"Click or drag to replace"})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[r.jsx("div",{className:"text-3xl",children:"\uD83D\uDCC1"}),r.jsx("span",{className:"text-sm text-text-primary font-medium",children:"Click to upload or drag and drop"}),(0,r.jsxs)("span",{className:"text-xs text-text-muted",children:["PNG or JPG (max ",Math.round(s/1048576),"MB)"]})]})]}),f&&r.jsx("span",{className:"text-sm text-red-500",role:"alert",children:f}),n&&!f&&r.jsx("span",{className:"text-sm text-text-muted",children:n})]})}},45733:(e,t,s)=>{"use strict";s.d(t,{Input:()=>a});var r=s(3109);let a=(0,s(70371).forwardRef)(({label:e,error:t,hint:s,className:a="",id:i,...n},l)=>{let o=i||e?.toLowerCase().replace(/\s+/g,"-"),c=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&r.jsx("label",{htmlFor:o,className:"text-sm font-medium text-text-primary",children:e}),r.jsx("input",{ref:l,id:o,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary placeholder:text-text-muted transition-all duration-200 focus:outline-none focus:ring-2 min-h-[44px] ${c} ${a}`,"aria-invalid":!!t,"aria-describedby":t?`${o}-error`:s?`${o}-hint`:void 0,...n}),t&&r.jsx("span",{id:`${o}-error`,className:"text-sm text-red-500",role:"alert",children:t}),s&&!t&&r.jsx("span",{id:`${o}-hint`,className:"text-sm text-text-muted",children:s})]})});a.displayName="Input"},57921:(e,t,s)=>{"use strict";s.d(t,{Select:()=>a});var r=s(3109);let a=(0,s(70371).forwardRef)(({label:e,error:t,hint:s,options:a,placeholder:i,className:n="",id:l,...o},c)=>{let d=l||e?.toLowerCase().replace(/\s+/g,"-"),u=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&r.jsx("label",{htmlFor:d,className:"text-sm font-medium text-text-primary",children:e}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{ref:c,id:d,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary transition-all duration-200 focus:outline-none focus:ring-2 min-h-[44px] appearance-none cursor-pointer ${u} ${n}`,"aria-invalid":!!t,"aria-describedby":t?`${d}-error`:s?`${d}-hint`:void 0,...o,children:[i&&r.jsx("option",{value:"",disabled:!0,children:i}),a.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t&&r.jsx("span",{id:`${d}-error`,className:"text-sm text-red-500",role:"alert",children:t}),s&&!t&&r.jsx("span",{id:`${d}-hint`,className:"text-sm text-text-muted",children:s})]})});a.displayName="Select"},43121:(e,t,s)=>{"use strict";s.d(t,{TextArea:()=>a});var r=s(3109);let a=(0,s(70371).forwardRef)(({label:e,error:t,hint:s,className:a="",id:i,rows:n=4,...l},o)=>{let c=i||e?.toLowerCase().replace(/\s+/g,"-"),d=t?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-primary/30 focus:ring-primary/50 focus:border-primary";return(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[e&&r.jsx("label",{htmlFor:c,className:"text-sm font-medium text-text-primary",children:e}),r.jsx("textarea",{ref:o,id:c,rows:n,className:`w-full px-4 py-2 bg-surface border rounded-lg text-text-primary placeholder:text-text-muted transition-all duration-200 focus:outline-none focus:ring-2 resize-y min-h-[100px] ${d} ${a}`,"aria-invalid":!!t,"aria-describedby":t?`${c}-error`:s?`${c}-hint`:void 0,...l}),t&&r.jsx("span",{id:`${c}-error`,className:"text-sm text-red-500",role:"alert",children:t}),s&&!t&&r.jsx("span",{id:`${c}-hint`,className:"text-sm text-text-muted",children:s})]})});a.displayName="TextArea"},94441:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(70371),a=s(97270);function i(){let[e,t]=(0,r.useState)({user:null,loading:!0,error:null}),s=(0,a.AY)(),i=(0,r.useCallback)(async()=>{t(e=>({...e,loading:!0,error:null}));try{let{error:e}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(e)throw e}catch(e){t(t=>({...t,error:e,loading:!1}))}},[s.auth]),n=(0,r.useCallback)(async(e,r)=>{t(e=>({...e,loading:!0,error:null}));try{let{error:t}=await s.auth.signInWithPassword({email:e,password:r});if(t)throw t}catch(e){t(t=>({...t,error:e,loading:!1}))}},[s.auth]),l=(0,r.useCallback)(async(e,r)=>{t(e=>({...e,loading:!0,error:null}));try{let{error:t}=await s.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t}catch(e){t(t=>({...t,error:e,loading:!1}))}},[s.auth]),o=(0,r.useCallback)(async()=>{t(e=>({...e,loading:!0,error:null}));try{let{error:e}=await s.auth.signOut();if(e)throw e;t(e=>({...e,user:null,loading:!1}))}catch(e){t(t=>({...t,error:e,loading:!1}))}},[s.auth]),c=(0,r.useCallback)(()=>{t(e=>({...e,error:null}))},[]);return{...e,signInWithGoogle:i,signInWithEmail:n,signUpWithEmail:l,signOut:o,clearError:c}}},97270:(e,t,s)=>{"use strict";s.d(t,{AY:()=>i});var r=s(82515);let a=null;function i(){if(a)return a;let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!e||!t)throw Error("Missing Supabase environment variables: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are required");return a=(0,r.eI)(e,t)}},69656:(e,t,s)=>{"use strict";s.d(t,{_K:()=>u,a6:()=>d,l6:()=>c});var r=s(53502);r.Ry({id:r.Z_().uuid(),userId:r.Z_().uuid(),name:r.Z_().min(1,"Business name is required"),logoUrl:r.Z_().url().optional().nullable(),phone:r.Z_().optional().nullable(),email:r.Z_().email("Invalid email format").optional().nullable(),address:r.Z_().optional().nullable(),defaultTerms:r.Z_().optional().nullable(),defaultValidityDays:r.Rx().int().min(1).default(7),createdAt:r.oQ.date(),updatedAt:r.oQ.date()}).omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({userId:!0}),r.Ry({id:r.Z_().uuid(),businessId:r.Z_().uuid(),name:r.Z_().min(1,"Service name is required"),description:r.Z_().optional().nullable(),price:r.Rx().positive("Price must be a positive number"),category:r.Z_().optional().nullable(),isActive:r.O7().default(!0),createdAt:r.oQ.date(),updatedAt:r.oQ.date()}).omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({businessId:!0});let a=r.Ry({id:r.Z_().uuid(),businessId:r.Z_().uuid(),name:r.Z_().min(1,"Customer name is required"),phone:r.Z_().min(1,"Phone number is required"),email:r.Z_().email("Invalid email format").optional().nullable(),address:r.Z_().optional().nullable(),createdAt:r.oQ.date(),updatedAt:r.oQ.date()});a.omit({id:!0,createdAt:!0,updatedAt:!0}).partial().omit({businessId:!0});let i=r.Km(["pending","accepted","rejected","expired"]),n=r.Ry({id:r.Z_().uuid(),quoteId:r.Z_().uuid(),serviceId:r.Z_().uuid().optional().nullable(),serviceName:r.Z_().min(1,"Service name is required"),quantity:r.Rx().int().positive("Quantity must be a positive integer"),unitPrice:r.Rx().nonnegative("Unit price must be non-negative"),totalPrice:r.Rx().nonnegative("Total price must be non-negative"),createdAt:r.oQ.date()});n.omit({id:!0,quoteId:!0,createdAt:!0});let l=r.Km(["percentage","fixed"]);r.Ry({id:r.Z_().uuid(),businessId:r.Z_().uuid(),customerId:r.Z_().uuid().optional().nullable(),quoteNumber:r.Z_().regex(/^QQ-\d{4}-\d{3,}$/,"Invalid quote number format"),status:i.default("pending"),subtotal:r.Rx().nonnegative("Subtotal must be non-negative"),discountType:l.optional().nullable(),discountValue:r.Rx().nonnegative("Discount value must be non-negative").default(0),total:r.Rx().nonnegative("Total must be non-negative"),notes:r.Z_().optional().nullable(),terms:r.Z_().optional().nullable(),validUntil:r.oQ.date().optional().nullable(),createdAt:r.oQ.date(),updatedAt:r.oQ.date(),customer:r.Vo(()=>a).optional(),items:r.IX(r.Vo(()=>n)).optional()}).omit({id:!0,quoteNumber:!0,createdAt:!0,updatedAt:!0,customer:!0,items:!0}).partial().omit({businessId:!0});let o=e=>r.Z_().refine(e=>e.trim().length>0,{message:`${e} is required`}),c=r.Ry({name:o("Business name").pipe(r.Z_().max(255)),phone:r.Z_().max(50).optional(),email:r.Z_().email("Invalid email format").max(255).optional().or(r.i0("")),address:r.Z_().optional(),defaultTerms:r.Z_().optional(),defaultValidityDays:r.Rx().int().min(1).max(365).default(7)}),d=r.Ry({name:o("Service name").pipe(r.Z_().max(255)),description:r.Z_().optional(),price:r.Rx().positive("Price must be a positive number"),category:r.Z_().max(100).optional()}),u=r.Ry({name:o("Customer name").pipe(r.Z_().max(255)),phone:o("Phone number").pipe(r.Z_().max(50)),email:r.Z_().email("Invalid email format").max(255).optional().or(r.i0("")),address:r.Z_().optional()})},17624:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>o});var r=s(37432),a=s(62445),i=s.n(a),n=s(54361);(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Button.tsx#Button`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Input.tsx#Input`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Select.tsx#Select`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Checkbox.tsx#Checkbox`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/TextArea.tsx#TextArea`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#Card`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardHeader`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardTitle`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardContent`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/Card.tsx#CardFooter`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/ui/FileUpload.tsx#FileUpload`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/Header.tsx#Header`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/Sidebar.tsx#Sidebar`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/layout/DashboardLayout.tsx#DashboardLayout`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Modal.tsx#Modal`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#useToast`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastProvider`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastContainer`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Toast.tsx#ToastItem`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/LoadingSpinner.tsx#LoadingSpinner`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/LoadingSpinner.tsx#LoadingOverlay`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#Badge`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#getQuoteStatusVariant`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/feedback/Badge.tsx#formatQuoteStatus`);let l=(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/auth/AuthProvider.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/auth/AuthProvider.tsx#useAuthContext`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/onboarding/OnboardingWizard.tsx#OnboardingWizard`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceForm.tsx#ServiceForm`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceCard.tsx#ServiceCard`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/services/ServiceList.tsx#ServiceList`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerForm.tsx#CustomerForm`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerCard.tsx#CustomerCard`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/CustomerList.tsx#CustomerList`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/customers/InlineCustomerForm.tsx#InlineCustomerForm`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/CustomerSelector.tsx#CustomerSelector`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/ServiceSelector.tsx#ServiceSelector`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteItemRow.tsx#QuoteItemRow`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteItemRow.tsx#QuoteItemsList`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/DiscountInput.tsx#DiscountInput`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteCreationForm.tsx#QuoteCreationForm`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePreview.tsx#QuotePreview`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePreview.tsx#default`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#useQuotePDF`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#QuotePDF`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuotePDF.tsx#default`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteShare.tsx#QuoteShare`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quote/QuoteShare.tsx#default`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/quotes/QuoteList.tsx#QuoteList`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/StatsCard.tsx#StatsCard`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/RecentQuotes.tsx#RecentQuotes`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/dashboard/QuickActions.tsx#QuickActions`),(0,n.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/packages/core/src/components/settings/SettingsPage.tsx#SettingsPage`),s(250);let o={title:"SpookyQuote - Web Designer",description:"Create professional quotes for your web design clients"};function c({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:`${i().variable} font-body bg-background text-text-primary`,children:r.jsx(l,{children:e})})})}},250:()=>{}};