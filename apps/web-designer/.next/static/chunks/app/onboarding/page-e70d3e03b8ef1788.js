(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{2866:function(e,s,n){Promise.resolve().then(n.bind(n,3272))},3272:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return r}});var t=n(9566),l=n(8590),a=n(6555),o=n(4134),i=n(9307);function r(){let{user:e,loading:s}=(0,i.aC)(),{business:n,loading:r,uploadLogo:u}=(0,i.iF)(),{createBusiness:c,loading:d,error:h}=(0,i.p_)(),m=(0,a.useRouter)(),[x,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{s||e||m.push("/login")},[e,s,m]),(0,l.useEffect)(()=>{!r&&n&&m.push("/dashboard")},[n,r,m]);let f=async(e,s)=>{if(p(null),!await c(e)){p((null==h?void 0:h.message)||"Failed to create business profile");return}s&&!await u(s)&&console.warn("Logo upload failed, continuing without logo"),m.push("/dashboard")};return s||r?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(o.TK,{size:"lg"})}):!e||n?null:(0,t.jsx)("main",{className:"min-h-screen bg-background py-8 px-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:[(0,t.jsx)("span",{className:"text-halloween-purple",children:"Welcome to Spooky"}),(0,t.jsx)("span",{className:"text-halloween-orange",children:"Quote"}),(0,t.jsx)("span",{className:"ml-2",children:"\uD83C\uDF83"})]}),(0,t.jsx)("p",{className:"text-text-muted",children:"Let's set up your business profile to get started"})]}),(0,t.jsx)(o.NZ,{onComplete:f,isLoading:d,error:x})]})})}}},function(e){e.O(0,[959,40,696,977,844,560],function(){return e(e.s=2866)}),_N_E=e.O()}]);