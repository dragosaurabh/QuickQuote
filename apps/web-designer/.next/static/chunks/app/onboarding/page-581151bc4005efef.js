(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{2866:function(e,s,n){Promise.resolve().then(n.bind(n,3272))},3272:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c},dynamic:function(){return r}});var t=n(9566),a=n(8590),l=n(6555),i=n(4134),o=n(9307);let r="force-dynamic";function c(){let{user:e,loading:s}=(0,o.aC)(),{business:n,loading:r,uploadLogo:c}=(0,o.iF)(),{createBusiness:u,loading:d,error:m}=(0,o.p_)(),h=(0,l.useRouter)(),[x,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{s||e||h.push("/login")},[e,s,h]),(0,a.useEffect)(()=>{!r&&n&&h.push("/dashboard")},[n,r,h]);let p=async(e,s)=>{if(f(null),!await u(e)){f((null==m?void 0:m.message)||"Failed to create business profile");return}s&&!await c(s)&&console.warn("Logo upload failed, continuing without logo"),h.push("/dashboard")};return s||r?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(i.TK,{size:"lg"})}):!e||n?null:(0,t.jsx)("main",{className:"min-h-screen bg-background py-8 px-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:[(0,t.jsx)("span",{className:"text-halloween-purple",children:"Welcome to Spooky"}),(0,t.jsx)("span",{className:"text-halloween-orange",children:"Quote"}),(0,t.jsx)("span",{className:"ml-2",children:"\uD83C\uDF83"})]}),(0,t.jsx)("p",{className:"text-text-muted",children:"Let's set up your business profile to get started"})]}),(0,t.jsx)(i.NZ,{onComplete:p,isLoading:d,error:x})]})})}}},function(e){e.O(0,[959,40,696,977,844,560],function(){return e(e.s=2866)}),_N_E=e.O()}]);