(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{2330:function(e,s,n){Promise.resolve().then(n.bind(n,7650))},7650:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var a=n(9566),l=n(8590),r=n(6555),i=n(4134),t=n(9307);function c(){let{user:e,loading:s,signOut:n}=(0,t.aC)(),{business:c,loading:o}=(0,t.iF)(),{customers:d,loading:u,error:h,refetch:x}=(0,t.n8)(),{createCustomer:m,loading:p}=(0,t.Ad)(),{updateCustomer:f,loading:g}=(0,t.Hl)(),j=(0,r.useRouter)();(0,l.useEffect)(()=>{s||e||j.push("/")},[e,s,j]),(0,l.useEffect)(()=>{s||o||!e||c||j.push("/onboarding")},[e,s,c,o,j]);let b=async()=>{await n(),j.push("/")};return s||o?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)(i.TK,{size:"lg"})}):e&&c?(0,a.jsx)("main",{className:"min-h-screen bg-background p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold",children:[(0,a.jsx)("span",{className:"text-halloween-purple",children:"Spooky"}),(0,a.jsx)("span",{className:"text-halloween-orange",children:"Quote"}),(0,a.jsx)("span",{className:"ml-2",children:"\uD83C\uDF83"})]}),(0,a.jsx)("p",{className:"text-text-muted mt-1",children:c.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.zx,{variant:"ghost",onClick:()=>j.push("/dashboard"),children:"Dashboard"}),(0,a.jsx)(i.zx,{variant:"ghost",onClick:()=>j.push("/services"),children:"Services"}),(0,a.jsx)(i.zx,{variant:"ghost",onClick:b,children:"Sign Out"})]})]}),(0,a.jsx)("div",{className:"bg-surface rounded-xl p-6 border border-halloween-purple/20",children:(0,a.jsx)(i.bu,{customers:d,loading:u,error:h,onCreateCustomer:m,onUpdateCustomer:f,onRefetch:x,createLoading:p,updateLoading:g})})]})}):null}}},function(e){e.O(0,[959,40,696,977,844,560],function(){return e(e.s=2330)}),_N_E=e.O()}]);