(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9641:function(e,s,n){Promise.resolve().then(n.bind(n,3359))},3359:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var t=n(9566),i=n(8590),l=n(6555),a=n(4134),c=n(9307);function o(){let{user:e,loading:s,signOut:n}=(0,c.aC)(),{business:o,loading:u}=(0,c.iF)(),{stats:r,recentQuotes:d,loading:m}=(0,c.f_)(),h=(0,l.useRouter)();(0,i.useEffect)(()=>{s||e||h.push("/")},[e,s,h]),(0,i.useEffect)(()=>{s||u||!e||o||h.push("/onboarding")},[e,s,o,u,h]);let x=async()=>{await n(),h.push("/")},g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return s||u?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(a.TK,{size:"lg"})}):e&&o?(0,t.jsx)("main",{className:"min-h-screen bg-background p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold",children:[(0,t.jsx)("span",{className:"text-halloween-purple",children:"Spooky"}),(0,t.jsx)("span",{className:"text-halloween-orange",children:"Quote"}),(0,t.jsx)("span",{className:"ml-2",children:"\uD83C\uDF83"})]}),(0,t.jsxs)("p",{className:"text-text-muted mt-1",children:["Welcome back, ",o.name]})]}),(0,t.jsx)(a.zx,{variant:"ghost",onClick:x,children:"Sign Out"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[(0,t.jsx)(a.Ai,{title:"Quotes This Month",value:m?"...":r.totalQuotesThisMonth,icon:(0,t.jsx)("span",{children:"\uD83D\uDCCA"})}),(0,t.jsx)(a.Ai,{title:"Accepted Value",value:m?"...":g(r.totalAcceptedValueThisMonth),icon:(0,t.jsx)("span",{children:"\uD83D\uDCB0"})}),(0,t.jsx)(a.Ai,{title:"Pending Amount",value:m?"...":g(r.totalPendingAmount),icon:(0,t.jsx)("span",{children:"â³"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(a.j9,{quotes:d,onViewQuote:e=>h.push("/quotes/".concat(e))})}),(0,t.jsx)("div",{children:(0,t.jsx)(a.NV,{onCreateQuote:()=>h.push("/quotes/new"),onViewAllQuotes:()=>h.push("/quotes"),onManageServices:()=>h.push("/services"),onManageCustomers:()=>h.push("/customers"),onSettings:()=>h.push("/settings")})})]})]})}):null}}},function(e){e.O(0,[959,40,696,977,844,560],function(){return e(e.s=9641)}),_N_E=e.O()}]);