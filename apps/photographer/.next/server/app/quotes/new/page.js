(()=>{var e={};e.id=157,e.ids=[157],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92048:e=>{"use strict";e.exports=require("fs")},55315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("worker_threads")},79616:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(18838),t(71622),t(15886);var r=t(71262),a=t(35317),n=t(90918),o=t.n(n),i=t(83842),u={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);t.d(s,u);let l=["",{children:["quotes",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18838)),"/Volumes/Crucial X9/Opened Github projects/QuickQuote/apps/photographer/src/app/quotes/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71622)),"/Volumes/Crucial X9/Opened Github projects/QuickQuote/apps/photographer/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,15886,23)),"next/dist/client/components/not-found-error"]}],c=["/Volumes/Crucial X9/Opened Github projects/QuickQuote/apps/photographer/src/app/quotes/new/page.tsx"],d="/quotes/new/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/quotes/new/page",pathname:"/quotes/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},46748:(e,s,t)=>{Promise.resolve().then(t.bind(t,7698))},7698:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,dynamic:()=>i});var r=t(3109);t(70371);var a=t(81971),n=t(44057),o=t(18378);let i="force-dynamic";function u(){let{user:e,loading:s,signOut:t}=(0,o.aC)(),{business:i,loading:u}=(0,o.iF)(),{customers:l,loading:c,refetch:d}=(0,o.n8)(),{services:p,loading:m}=(0,o.Su)(),{createCustomer:x,loading:h}=(0,o.Ad)(),{createQuote:g,loading:j,error:b}=(0,o.i1)(),v=(0,a.useRouter)(),{addToast:f}=(0,n.pm)(),y=async()=>{await t(),v.push("/")},q=async e=>{let s=await x(e);return s&&(await d(),f("success","\uD83D\uDC7B Customer summoned successfully!")),s},w=async e=>{let s=await g({customerId:e.customerId,items:e.items,subtotal:e.subtotal,discountType:e.discountType,discountValue:e.discountValue,total:e.total,notes:e.notes,terms:e.terms,validUntil:e.validUntil});s?(f("success","\uD83C\uDF83 Quote conjured successfully!"),v.push(`/quotes/${s.id}`)):b&&f("error",b.message||"Failed to create quote")};return s||u?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsx(n.TK,{size:"lg"})}):e&&i?r.jsx("main",{className:"min-h-screen bg-background p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:[r.jsx("span",{className:"text-halloween-purple",children:"Spooky"}),r.jsx("span",{className:"text-halloween-orange",children:"Quote"}),r.jsx("span",{className:"ml-2",children:"\uD83D\uDCF8"})]}),r.jsx("p",{className:"text-text-muted mt-1",children:i.name})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.zx,{variant:"ghost",onClick:()=>v.push("/dashboard"),children:"Dashboard"}),r.jsx(n.zx,{variant:"ghost",onClick:()=>v.push("/quotes"),children:"All Quotes"}),r.jsx(n.zx,{variant:"ghost",onClick:y,children:"Sign Out"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Create New Quote"}),r.jsx("p",{className:"text-text-secondary mt-1",children:"Select a customer and services to generate a professional quote"})]}),r.jsx(n.zc,{business:i,customers:l,services:p,customersLoading:c,servicesLoading:m,onCreateCustomer:q,onSubmit:w,isSubmitting:j||h})]})}):null}},18838:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>a});var r=t(54361);let a=(0,r.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/apps/photographer/src/app/quotes/new/page.tsx#dynamic`),n=(0,r.createProxy)(String.raw`/Volumes/Crucial X9/Opened Github projects/QuickQuote/apps/photographer/src/app/quotes/new/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[910,629,898,817],()=>t(79616));module.exports=r})();